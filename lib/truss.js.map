{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap c2bd825d9b78d4319aa9","webpack:///./src/index.js","webpack:///./src/manager.js","webpack:///./src/grid.js","webpack:///./src/button.js","webpack:///./src/utils.js"],"names":["layout","attachEvent","document","isIE","navigator","userAgent","match","requestFrame","raf","window","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","fn","setTimeout","cancelFrame","cancel","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","clearTimeout","id","resizeListener","e","win","target","srcElement","__resizeRAF__","trigger","__resizeTrigger__","__resizeListeners__","forEach","call","objectLoad","contentDocument","defaultView","__resizeElement__","addEventListener","addResizeListener","element","getComputedStyle","position","style","obj","createElement","setAttribute","onload","type","appendChild","data","push","removeResizeListener","splice","indexOf","length","detachEvent","removeEventListener","removeChild","addEvent","removeEvent","_init","_conf","elem","instance","conf","configuration","parseConfig","_parent","container","height","width","enableContainerDrag","startX","startY","startWidth","startHeight","initDrag","clientX","clientY","parseInt","documentElement","doDrag","stopDrag","resizerStyle","background","right","bottom","borderRadius","cursor","init","className","resizer","newHeight","innerHeight","newWidth","innerWidth","ch","cw","resizeLayout","setConfigaration","offsetHeight","offsetWidth","config","containerBackground","sliderBackground","sliderHoverColor","buttonTextColor","buttonBackgroung","getElementsByTagName","temp","i","hasOwnProperty","TrussLayout","gridList","elementCounter","parent","gridCount","margin","padding","heightChange","widthChange","rows","cols","columns","list","vertical","ii","slider","_slider","isVertical","left","parseFloat","currX","numberOfCells","top","currY","node","getNode","splitLayout","resizeContainer","elementList","h","w","r","c","parentManager","gridConf","hMax","hSum","wMax","wSum","gridConfCollection","index","parentConf","collection","move","x","Infinity","y","boundings","item","getMinimunDraggableDimension","splits","cb","Object","keys","_removeAllGrids","Number","parentElem","parentHeight","parentWidth","calculatedHeight","Math","floor","calculatedWidth","numberOfDivs","setDraggableDimension","grid","getConfiguration","setDimensions","_createDiv","_calculateMaxButton","root","_createSliders","orientation","or","toLowerCase","_getGoldenRatio","childConf","Array","isArray","n","goldLarge","goldSmall","self","sliderHeight","sliderWidth","zIndex","len","newY","isSelected","addMe","sliderProps","offsetTop","change","prevSlider","nextSlider","addme","dimensions","dim","props1","dependencies","_resize","y1","y2","_change","abs","_excuteSliderChange","newX","offsetLeft","x1","x2","count","side1","side2","movePos","moveNeg","j","k1","k2","startingPoint","s1","s2","resizeInnerContainers","default","Grid","parentElement","childGrids","buttons","buttonCounter","boundingClictDimension","assign","defaultConfig","_dim","v","_config","chartContainer","buttonStatus","maxButton","getId","horizontalCount","verticalCount","_getContainerDimension","addContainer","split","createSplit","createGoldSplit","contentConf","events","_canAddButton","_getButtonConfig","content","_parseContentConfig","btnInstance","btn","render","name","callback","_addEvent","bind","contentConfig","innerHTML","text","src","iii","ob","_i","_ii","_iii","isModified","str","posStr","toUpperCase","replace","HORIZONTAL","_parsePosition","posArr","status","_generateOrientationObj","currentPos","lr","_posObj","pos","currentBtnStatus","_or","_posArr","_pos","oh","ow","btnSize","horizontal","isvertical","operation","childContainers","sliders","property","amount","dataConf","getBoundingClientRect","key","changeSliderDimension","op","sliderObj","isVerticalSlider","actualAmount","calculatedAmount","ic","float","CircularButton","paddingBottom","overflow","marginLeft","display","paddingTop","lineHeight","marginTop","textAlign","color","fontFamily","fontSize","fontWeight","textDecoration","outer","middle","inner","href","html","button","_createButton","getRandomColor","letters","random","_addStyle","_createElement","roundUp","d","round"],"mappings":"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","file":"truss.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"truss\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"truss\"] = factory();\n\telse\n\t\troot[\"truss\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/Users/sumitpal/work/dev/truss-layout/implementation\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap c2bd825d9b78d4319aa9\n **/","import TrussLayout from './manager.js';\nimport {_addStyle} from './utils.js';\n\nlet layout = (function () {\n    var attachEvent = document.attachEvent;\n    var isIE = navigator.userAgent.match(/Trident/);\n    var requestFrame = (function () {\n        var raf = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame ||\n            function (fn) {\n                return window.setTimeout(fn, 20);\n            };\n        return function (fn) {\n            return raf(fn);\n        };\n    })();\n\n    var cancelFrame = (function () {\n        var cancel = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame ||\n            window.clearTimeout;\n        return function (id) {\n            return cancel(id);\n        };\n    })();\n\n    function resizeListener(e) {\n        var win = e.target || e.srcElement;\n        if (win.__resizeRAF__) cancelFrame(win.__resizeRAF__);\n        win.__resizeRAF__ = requestFrame(function () {\n            var trigger = win.__resizeTrigger__;\n            trigger.__resizeListeners__.forEach(function (fn) {\n                fn.call(trigger, e);\n            });\n        });\n    }\n\n    function objectLoad() {\n        this.contentDocument.defaultView.__resizeTrigger__ = this.__resizeElement__;\n        this.contentDocument.defaultView.addEventListener('resize', resizeListener);\n    }\n\n    let addResizeListener = function (element, fn) {\n        if (!element.__resizeListeners__) {\n            element.__resizeListeners__ = [];\n            if (attachEvent) {\n                element.__resizeTrigger__ = element;\n                element.attachEvent('onresize', resizeListener);\n            } else {\n                if (getComputedStyle(element).position == 'static') element.style.position = 'relative';\n                var obj = element.__resizeTrigger__ = document.createElement('object');\n                obj.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\n                obj.__resizeElement__ = element;\n                obj.onload = objectLoad;\n                obj.type = 'text/html';\n                if (isIE) element.appendChild(obj);\n                obj.data = 'about:blank';\n                if (!isIE) element.appendChild(obj);\n            }\n        }\n        element.__resizeListeners__.push(fn);\n    };\n\n    let removeResizeListener = function (element, fn) {\n        element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n        if (!element.__resizeListeners__.length) {\n            if (attachEvent) element.detachEvent('onresize', resizeListener);\n            else {\n                element.__resizeTrigger__.contentDocument.defaultView.removeEventListener('resize', resizeListener);\n                element.__resizeTrigger__ = !element.removeChild(element.__resizeTrigger__);\n            }\n        }\n    };\n\n    return {\n        addEvent: addResizeListener,\n        removeEvent: removeResizeListener\n    };\n})();\n// export  TrussLayout;\nfunction _init(_conf) {\n    let elem = document.createElement('div'),\n        instance,\n        conf = {},\n        configuration = parseConfig(_conf || {}),\n        _parent = configuration.container;\n    // set element height and width\n    elem.style.height = '100%';\n    elem.style.width = '100%';\n    //elem.style.margin = '5px';\n    elem.style.position = 'relative';\n    elem.id = 'trussLayoutContainer';\n\n    if (configuration.enableContainerDrag) {\n        let startX, \n            startY, \n            startWidth, \n            startHeight,\n            initDrag = (e) =>{\n                startX = e.clientX;\n                startY = e.clientY;\n                startWidth = parseInt(document.defaultView.getComputedStyle(elem).width, 10);\n                startHeight = parseInt(document.defaultView.getComputedStyle(elem).height, 10);\n                document.documentElement.addEventListener('mousemove', doDrag, false);\n                document.documentElement.addEventListener('mouseup', stopDrag, false);\n            },\n            doDrag = (e) => {\n                elem.style.width = (startWidth + e.clientX - startX) + 'px';\n                elem.style.height = (startHeight + e.clientY - startY) + 'px';\n            },\n            stopDrag = () => {\n                document.documentElement.removeEventListener('mousemove', doDrag, false);\n                document.documentElement.removeEventListener('mouseup', stopDrag, false);\n            },\n            resizerStyle =  {\n                width: '7px',\n                height: '7px',\n                background: 'blue',\n                position: 'absolute',\n                right: '0',\n                bottom: '0',\n                borderRadius: '50% 0 0 0',\n                cursor: 'se-resize'\n            };\n\n        elem.addEventListener('click', function init() {\n            elem.removeEventListener('click', init, false);\n            elem.className = elem.className + ' resizable';\n            let resizer = document.createElement('div');\n            // resizer.className = 'resizer';\n            _addStyle(resizer, resizerStyle);\n\n            elem.appendChild(resizer);\n            resizer.addEventListener('mousedown', initDrag, false);\n        }, false);\n\n        layout.addEvent(elem, function (e) {\n            let newHeight = e.target.innerHeight,\n                newWidth = e.target.innerWidth,\n                ch = (conf.height - newHeight),\n                cw = (conf.width - newWidth);\n    \n            instance.resizeLayout(ch ? (-1 * ch) : 0, cw ? (-1 * cw) : 0);\n            conf.height = newHeight;\n            conf.width = newWidth;\n        });\n    }\n\n    _parent.appendChild(elem);\n    // creating instance of truss layout\n    instance = new TrussLayout(elem);\n    instance.setConfigaration(configuration);\n\n    conf.height = elem.offsetHeight;\n    conf.width = elem.offsetWidth;\n\n    return instance;\n}\n\nfunction parseConfig (conf) {\n    let config = {\n            background : '#ccc',\n            containerBackground : '#fff',\n            sliderBackground : '#F2F2F2',\n            sliderHoverColor: '#d7dcea',\n            buttonTextColor: '#fff',\n            buttonBackgroung: '#4679BD',\n            container : document.getElementsByTagName('body')[0],\n            enableContainerDrag: true\n        },\n        temp = {};\n\n    // user config merged with the default config\n    for(let i in config) {\n        if(conf.hasOwnProperty(i)) {\n            temp[i] = conf[i];\n        } else {\n            temp[i] = config[i];\n        }\n    }  \n\n    return temp;\n}\n\nexport {\n    _init as init\n};\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","import Grid from './grid.js';\nimport {\n\t_createElement,\n\t_addStyle\n} from './utils';\n\nclass TrussLayout {\n\tconstructor(elem) {\n\t\tthis.gridList = {};\n\t\tthis.elementCounter = 0;\n\t\tthis.parent = elem;\n\t\tthis.gridCount = {};\n\t}\n\n\tconfig() {\n\t\treturn {\n\t\t\tmargin: 5,\n\t\t\tpadding: 0\n\t\t};\n\t}\n\n\tgetAllGrids () {\n\t\treturn this.gridList;\n\t}\n\n\tsetConfigaration (conf) {\n\t\tthis.configuration = conf;\n\t\treturn this;\n\t}\n\n\tgetConfiguration () {\n\t\treturn this.configuration;\n\t}\n\n\tresizeLayout(heightChange, widthChange) {\n\t\tlet rows = this.gridCount.rows,\n\t\t\tcols = this.gridCount.columns,\n\t\t\tch = (heightChange / rows),\n\t\t\tcw = (widthChange / cols),\n\t\t\tlist = this.gridList,\n\t\t\tconf = this.gridCount,\n\t\t\tvertical = 0;\n\n\t\t// iterating through all the sliders\n\t\tfor (let i = 0, ii = this.slider.length; i < ii; i++) {\n\t\t\tlet _slider = this.slider[i],\n\t\t\t\tisVertical = _slider.isVertical,\n\t\t\t\telem = _slider.slider;\n\n\t\t\tif (isVertical) {\n\t\t\t\tvertical++;\n\t\t\t\tlet //ic = (Math.abs(conf['columns'] - 2 - Number(i)) + 1),\n\t\t\t\t\tleft = cw * vertical;\n\n\t\t\t\tleft = (parseFloat(elem.style.left) + left);\n\t\t\t\t// logic for changinf the left position\n\t\t\t\telem.style.left = left + 'px';\n\t\t\t\t// logic for changing the height\n\t\t\t\telem.style.height = (parseFloat(elem.style.height) + heightChange) + 'px';\n\t\t\t\t// changing slider current position\n\t\t\t\t_slider.currX && (_slider.currX = left);\n\t\t\t} else {\n\t\t\t\tlet numberOfCells = isVertical ? conf['rows'] : conf['columns'];\n\t\t\t\t// logic for changing the top\n\t\t\t\tlet top = ch + ch * i;\n\t\t\t\ttop = (parseFloat(elem.style.top) + top);\n\t\t\t\telem.style.top = top + 'px';\n\t\t\t\t// changing the current top position of the slider\n\t\t\t\t_slider.currY && (_slider.currY = top);\n\t\t\t\t// LOGIC for changing the width\n\t\t\t\tlet width = cw * numberOfCells;\n\t\t\t\telem.style.width = (parseFloat(elem.style.width) + width) + 'px';\n\t\t\t}\n\t\t}\n\n\t\tfor (let i in list) {\n\t\t\tlet node = list[i].getNode(),\n\t\t\t\tlayout = list[i].splitLayout;\n\n\t\t\tnode.style.height = (parseFloat(node.style.height) + ch) + 'px';\n\t\t\tnode.style.width = (parseFloat(node.style.width) + cw) + 'px';\n\t\t\tlist[i].resizeContainer();\n\t\t\tlayout && layout.resizeLayout(ch, cw);\n\t\t}\n\t}\n\n\t_removeAllGrids() {\n\t\tfor (let i in this.gridList) {\n\t\t\tthis.parent.removeChild(this.gridList[i].getNode());\n\t\t}\n\t\tthis.elementList = {};\n\t\tthis.elementCounter = 0;\n\t}\n\t/**\n\t * set child node property that defines the amount that the grids can be shifted. This function also\n\t * stores the configuration to its parent manager (root node).\n\t * @param {Number} h - height of the grids\n\t * @param {Number} w - width of the grids\n\t * @param {Number} r - number of rows\n\t * @param {Number} c - number of columns\n\t */\n\tsetDraggableDimension(h, w, r, c) {\n\t\tlet parentManager = this.parentManager,\n\t\t\tgridConf = this.gridConf = {\n\t\t\t\thMax: h / 2,\n\t\t\t\thSum: (h / 2) * r,\n\t\t\t\twMax: w / 2,\n\t\t\t\twSum: (w / 2) * c\n\t\t\t};\n\t\tif (parentManager) {\n\t\t\tparentManager.gridConfCollection || (parentManager.gridConfCollection = {});\n\t\t\tparentManager.gridConfCollection[this.index] = gridConf;\n\t\t}\n\t}\n\n\tgetMinimunDraggableDimension() {\n\t\tlet parentConf = this.gridConf,\n\t\t\tcollection = this.gridConfCollection,\n\t\t\tgridCount = this.gridCount,\n\t\t\tlist = this.gridList,\n\t\t\tmove = {\n\t\t\t\tx: Infinity,\n\t\t\t\ty: Infinity\n\t\t\t};\n\n\t\tif (collection) {\n\t\t\tlet boundings;\n\t\t\tfor (let item in collection) {\n\t\t\t\tboundings = list[item].splitLayout && list[item].splitLayout.getMinimunDraggableDimension();\n\t\t\t\tmove.x > boundings.x && (move.x = boundings.x);\n\t\t\t\tmove.y > boundings.y && (move.y = boundings.y);\n\t\t\t}\n\t\t} else {\n\t\t\tlet rows = gridCount.rows,\n\t\t\t\tcols = gridCount.columns;\n\t\t\tif (rows > 1 && cols === 1) {\n\t\t\t\treturn {\n\t\t\t\t\tx: parentConf.wMax,\n\t\t\t\t\ty: parentConf.hSum\n\t\t\t\t};\n\t\t\t} else if (rows === 1 && cols > 1) {\n\t\t\t\treturn {\n\t\t\t\t\tx: parentConf.wSum,\n\t\t\t\t\ty: parentConf.hMax\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn {\n\t\t\t\t\tx: parentConf.wSum,\n\t\t\t\t\ty: parentConf.hSum\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn move;\n\t}\n\n\tcreateSplit(splits, cb) {\n\t\tObject.keys(this.gridList).length > 1 && this._removeAllGrids();\n\n\t\tlet rows = Number(splits[0]) || 1,\n\t\t\tcolumns = Number(splits[1]) || 1,\n\t\t\tparentElem = this.parent,\n\t\t\tconf = this.config(),\n\t\t\tparentHeight = parentElem.offsetHeight,\n\t\t\tparentWidth = parentElem.offsetWidth,\n\t\t\tmargin = conf.margin,\n\t\t\tpadding = conf.padding,\n\t\t\tcalculatedHeight = Math.floor((parentHeight / rows) - (margin * 2)),\n\t\t\tcalculatedWidth = Math.floor((parentWidth / columns) - (margin * 2)),\n\t\t\tnumberOfDivs = rows * columns,\n\t\t\tconfig = {\n\t\t\t\theight: `${calculatedHeight}px`,\n\t\t\t\twidth: `${calculatedWidth}px`,\n\t\t\t\tmargin: `${margin}px`,\n\t\t\t\tpadding: `${padding}px`\n\t\t\t};\n\n\t\tthis.setDraggableDimension(calculatedHeight, calculatedWidth, rows, columns);\n\n\t\tfor (let i = 0; i < numberOfDivs; i++) {\n\t\t\tlet grid = new Grid(parentElem),\n\t\t\t\tid = (parentElem.id || 'gridLayout') + this.elementCounter++;\n\t\t\t\n\t\t\tgrid.setConfigaration(this.getConfiguration());\n\t\t\tgrid.setDimensions(config)._createDiv(id)._calculateMaxButton();\n\t\t\tgrid.root = this;\n\t\t\tgrid.index = this.elementCounter - 1;\n\n\t\t\tthis.gridList[this.elementCounter - 1] = grid;\n\t\t}\n\n\t\tthis._createSliders(rows, columns, parentHeight, parentWidth, calculatedHeight, calculatedWidth);\n\t\tthis.gridCount = {\n\t\t\trows: rows,\n\t\t\tcolumns: columns\n\t\t};\n\n\t\ttypeof cb === 'function' && cb.call(this, this.gridList);\n\t\treturn this;\n\t}\n\n\tcreateGoldSplit(orientation, cb) {\n\t\tlet parentElem = this.parent,\n\t\t\tconf = this.config(),\n\t\t\tparentHeight = parentElem.offsetHeight,\n\t\t\tparentWidth = parentElem.offsetWidth,\n\t\t\tmargin = conf.margin,\n\t\t\tpadding = conf.padding,\n\t\t\tor = orientation && orientation[0].toLowerCase() === 'v' || false,\n\t\t\tcalculatedHeight = or ? this._getGoldenRatio(parentHeight) : Math.floor(parentHeight - (margin * 2)),\n\t\t\tcalculatedWidth = !or ? this._getGoldenRatio(parentWidth) : Math.floor(parentWidth - (margin * 2)),\n\t\t\tconfig = {\n\t\t\t\tmargin: `${margin}px`,\n\t\t\t\tpadding: `${padding}px`\n\t\t\t},\n\t\t\trows = or ? 2 : 1,\n\t\t\tcolumns = or ? 1 : 2;\n\n\t\tthis._createSliders(rows, columns, parentHeight, parentWidth, calculatedHeight, calculatedWidth);\n\t\tthis.gridCount = {\n\t\t\trows: rows,\n\t\t\tcolumns: columns\n\t\t};\n\n\t\tthis.childConf = {\n\t\t\thMax: parentHeight / 2,\n\t\t\thSum: parentHeight / 2,\n\t\t\twMax: parentHeight / 2,\n\t\t\twSum: parentWidth / 2\n\t\t};\n\t\tthis.setDraggableDimension(parentHeight/2, parentWidth/2, rows, columns);\n\t\tfor (let i = 0; i < 2; i++) {\n\t\t\tconfig.height = `${Array.isArray(calculatedHeight) ? (calculatedHeight[i] - (margin * 2.1)) : calculatedHeight}px`;\n\t\t\tconfig.width = `${Array.isArray(calculatedWidth) ? (calculatedWidth[i] - (margin * 2.1)) : calculatedWidth}px`;\n\n\t\t\tlet grid = new Grid(parentElem),\n\t\t\t\tid = (parentElem.id || 'gridLayout') + this.elementCounter++;\n\t\t\t\n\t\t\tgrid.setConfigaration(this.getConfiguration());\n\t\t\tgrid.setDimensions(config)._createDiv(id)._calculateMaxButton();\n\t\t\tgrid.root = this;\n\t\t\tgrid.index = this.elementCounter - 1;\n\t\t\tthis.gridList[this.elementCounter - 1] = grid;\n\t\t}\n\n\t\ttypeof cb === 'function' && cb.call(this, this.gridList);\n\t\treturn this;\n\t}\n\n\t_getGoldenRatio(n) {\n\t\tlet goldLarge = Math.floor(n / 1.618),\n\t\t\tgoldSmall = Math.floor(n - goldLarge);\n\t\treturn [goldLarge, goldSmall];\n\t}\n\n\t_createSliders(r, c, h, w, ch, cw) {\n\t\tlet slider = this.slider || (this.slider = []),\n\t\t\tself = this,\n\t\t\tconfig = {\n\t\t\t\tposition: 'absolute'\n\t\t\t},\n\t\t\tmargin = 5,\n\t\t\t_conf = this.getConfiguration();\n\n\t\tif (r > 1) { // for r = 3 there will be (3-1) horizontal sliders\n\t\t\tlet sliderHeight = margin * 2,\n\t\t\t\tsliderWidth = w - margin * 2;\n\n\t\t\tfor (let i = 1; i < r; i++) {\n\t\t\t\tlet startHeight = (Array.isArray(ch) ? ch[i - 1] - margin : (ch + margin - (margin/i)*(i-1))),\n\t\t\t\t\ttop = ((startHeight * i) + (sliderHeight * (i - 1)));\n\n\t\t\t\tconfig.top = `${top}px`;\n\t\t\t\tconfig.left = `${margin}px`;\n\t\t\t\tconfig.height = `${sliderHeight}px`;\n\t\t\t\tconfig.width = `${sliderWidth}px`;\n\t\t\t\tconfig.background = _conf.sliderBackground;\n\t\t\t\tconfig.zIndex = 10;\n\n\t\t\t\tlet elem = _createElement('div'),\n\t\t\t\t\tid = `${i}`,\n\t\t\t\t\tlen = slider.length;\n\n\t\t\t\t_addStyle(elem, config);\n\t\t\t\tslider.push({\n\t\t\t\t\tslider: elem,\n\t\t\t\t\tisVertical: false,\n\t\t\t\t\ty: 0,\n\t\t\t\t\tcurrY: top,\n\t\t\t\t\tnewY: 0,\n\t\t\t\t\tisSelected: false,\n\t\t\t\t\taddMe: 0\n\t\t\t\t});\n\t\t\t\telem.id = this.parent.id + id;\n\n\t\t\t\tlet sliderProps = slider[len];\n\n\t\t\t\telem.addEventListener('mouseover', function () {\n\t\t\t\t\tthis.style.background = _conf.sliderHoverColor;\n\t\t\t\t\tthis.style.cursor = 'ns-resize';\n\t\t\t\t\tthis.style.zIndex = parseInt(this.style.zIndex) + 1;\n\t\t\t\t});\n\t\t\t\telem.addEventListener('mouseout', function () {\n\t\t\t\t\t!sliderProps.isSelected && (this.style.background = _conf.sliderBackground);\n\t\t\t\t});\n\t\t\t\telem.addEventListener('mousedown', function (e) {\n\t\t\t\t\tsliderProps.isSelected = true;\n\t\t\t\t\tsliderProps.y = e.clientY - parseInt(elem.offsetTop);\n\t\t\t\t});\n\t\t\t\telem.addEventListener('mouseup', function () {\n\t\t\t\t\tsliderProps.isSelected = false;\n\t\t\t\t\tif (sliderProps.newY) {\n\t\t\t\t\t\t// if newx is greater the zero\n\t\t\t\t\t\tlet change = (sliderProps.currY - sliderProps.newY),\n\t\t\t\t\t\t\tprevSlider = slider[len - 1],\n\t\t\t\t\t\t\tnextSlider = slider[len + 1],\n\t\t\t\t\t\t\taddme = sliderProps.addMe * 2;\n\n\t\t\t\t\t\tif(!sliderProps.dimensions) {\n\t\t\t\t\t\t\tlet dim = sliderProps.dimensions = {},\n\t\t\t\t\t\t\t\tprops1 = sliderProps.dependencies = self._resize(i, false);\n\n\t\t\t\t\t\t\tdim.y1 = (props1[2].y === Infinity ? (self.gridConf.hMax) : (props1[2].y)) - addme;\n\t\t\t\t\t\t\tdim.y2 = (props1[3].y === Infinity ? (self.gridConf.hMax) : (props1[3].y)) - addme;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// previous slider\n\t\t\t\t\t\tif(slider[len - 1] && slider[len - 1].isVertical === false && !slider[len - 1].dimensions) {\n\t\t\t\t\t\t\tlet sliderProps = slider[len - 1],\n\t\t\t\t\t\t\t\tdim = sliderProps.dimensions = {},\n\t\t\t\t\t\t\t\tprops1 = sliderProps.dependencies = self._resize(i-1, false);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tdim.y1 = (props1[2].y === Infinity ? (self.gridConf.hMax) : (props1[2].y)) - addme;\n\t\t\t\t\t\t\tdim.y2 = (props1[3].y === Infinity ? (self.gridConf.hMax) : (props1[3].y)) - addme;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// next slider\n\t\t\t\t\t\tif(slider[len + 1] && slider[len + 1].isVertical === false && !slider[len + 1].dimensions) {\n\t\t\t\t\t\t\tlet sliderProps = slider[len + 1],\n\t\t\t\t\t\t\t\tdim = sliderProps.dimensions = {},\n\t\t\t\t\t\t\t\tprops1 = sliderProps.dependencies = self._resize(i+1, false);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tdim.y1 = (props1[2].y === Infinity ? (self.gridConf.hMax) : (props1[2].y)) - addme;\n\t\t\t\t\t\t\tdim.y2 = (props1[3].y === Infinity ? (self.gridConf.hMax) : (props1[3].y)) - addme;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (change > 0) {\n\t\t\t\t\t\t\tif (change > sliderProps.dimensions.y1) {\n\t\t\t\t\t\t\t\tchange = sliderProps.dimensions.y1;\n\t\t\t\t\t\t\t\tsliderProps.dimensions.y2 += sliderProps.dimensions.y1;\n\t\t\t\t\t\t\t\tnextSlider && (nextSlider.isVertical === false) && (nextSlider.dimensions.y1 += sliderProps.dimensions.y1);\n\t\t\t\t\t\t\t\tprevSlider && (prevSlider.isVertical === false) && (prevSlider.dimensions.y2 -= sliderProps.dimensions.y1);\n\t\t\t\t\t\t\t\t// update slider position\n\t\t\t\t\t\t\t\tsliderProps.newY = sliderProps.currY - sliderProps.dimensions.y1;\n\t\t\t\t\t\t\t\telem.style.top = sliderProps.newY + 'px';\n\t\t\t\t\t\t\t\tsliderProps.dimensions.y1 = 0;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsliderProps.dimensions.y2 += change;\n\t\t\t\t\t\t\t\tnextSlider && (nextSlider.isVertical === false) && (nextSlider.dimensions.y1 += change);\n\t\t\t\t\t\t\t\tprevSlider && (prevSlider.isVertical === false) && (prevSlider.dimensions.y2 -= change);\n\t\t\t\t\t\t\t\tsliderProps.dimensions.y1 -= change;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet _change = Math.abs(change);\n\t\t\t\t\t\t\tif(_change > sliderProps.dimensions.y2) { // dont go down\n\t\t\t\t\t\t\t\t_change = sliderProps.dimensions.y2;\n\t\t\t\t\t\t\t\tsliderProps.dimensions.y1 += sliderProps.dimensions.y2;\n\t\t\t\t\t\t\t\tnextSlider && (nextSlider.isVertical === false) && (nextSlider.dimensions.y1 -= sliderProps.dimensions.y2);\n\t\t\t\t\t\t\t\tprevSlider && (prevSlider.isVertical === false) && (prevSlider.dimensions.y2 += sliderProps.dimensions.y2);\n\t\t\t\t\t\t\t\t// update slider position\n\t\t\t\t\t\t\t\tsliderProps.newY = sliderProps.currY + sliderProps.dimensions.y2;\n\t\t\t\t\t\t\t\telem.style.top = sliderProps.newY + 'px';\n\t\t\t\t\t\t\t\tsliderProps.dimensions.y2 = 0;\n\t\t\t\t\t\t\t} else { // change normally\n\t\t\t\t\t\t\t\tsliderProps.dimensions.y2 -= _change;\n\t\t\t\t\t\t\t\tnextSlider && (nextSlider.isVertical === false) && (nextSlider.dimensions.y1 -= _change);\n\t\t\t\t\t\t\t\tprevSlider && (prevSlider.isVertical === false) && (prevSlider.dimensions.y2 += _change);\n\t\t\t\t\t\t\t\tsliderProps.dimensions.y1 += _change;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tchange = -1 * _change;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tself._excuteSliderChange(false, change, sliderProps.dependencies[0], sliderProps.dependencies[1]);\n\t\t\t\t\t\tsliderProps.currY = sliderProps.newY;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t});\n\t\t\t\tthis.parent.addEventListener('mousemove', function (e) {\n\t\t\t\t\tif (sliderProps.isSelected == true) {\n\t\t\t\t\t\tsliderProps.newY = (e.clientY - sliderProps.y);\n\t\t\t\t\t\telem.style.top = sliderProps.newY + 'px';\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.parent.appendChild(elem);\n\t\t\t}\n\t\t}\n\n\t\tif (c > 1) {\n\t\t\tlet sliderHeight = h - margin * 2,\n\t\t\t\tsliderWidth = margin * 2;\n\n\t\t\tfor (let i = 1; i < c; i++) {\n\t\t\t\tlet startWidth = (Array.isArray(cw) ? cw[i - 1] - margin : cw),\n\t\t\t\t\tleft = ((startWidth * i) + (sliderWidth * (i - 1)));\n\t\t\t\t/* @todo: below line is done as non-gold layout margin is not add\n\t\t\t\t\tadd margin value at time of creation */\n\t\t\t\t!Array.isArray(cw) && (left += margin);\n\t\t\t\t// the above line\n\t\t\t\tconfig.top = `${margin}px`;\n\t\t\t\tconfig.left = `${left}px`;\n\t\t\t\tconfig.height = `${sliderHeight}px`;\n\t\t\t\tconfig.width = `${sliderWidth}px`;\n\t\t\t\tconfig.background = _conf.sliderBackground;\n\t\t\t\t//config.transition = 'all ease 0.2s';\n\n\t\t\t\tlet elem = _createElement('div'),\n\t\t\t\t\tid = `${i}`,\n\t\t\t\t\tlen = slider.length,\n\t\t\t\t\tsliderProps;\n\n\t\t\t\t_addStyle(elem, config);\n\t\t\t\telem.id = this.parent.id + id;\n\t\t\t\tslider.push({\n\t\t\t\t\tslider: elem,\n\t\t\t\t\tisVertical: true,\n\t\t\t\t\tx: 0,\n\t\t\t\t\tcurrX: left,\n\t\t\t\t\tnewX: 0,\n\t\t\t\t\tisSelected: false,\n\t\t\t\t\taddMe: 0\n\t\t\t\t});\n\t\t\t\tsliderProps = slider[len];\n\n\t\t\t\telem.addEventListener('mouseover', function () {\n\t\t\t\t\tthis.style.background = _conf.sliderHoverColor;\n\t\t\t\t\tthis.style.cursor = 'ew-resize';\n\t\t\t\t\tthis.style.zIndex += 1;\n\t\t\t\t});\n\t\t\t\telem.addEventListener('mouseout', function () {\n\t\t\t\t\t!sliderProps.isSelected && (this.style.background = _conf.sliderBackground);\n\t\t\t\t});\n\t\t\t\telem.addEventListener('mousedown', function (e) {\n\t\t\t\t\tsliderProps.isSelected = true;\n\t\t\t\t\tsliderProps.x = e.clientX - parseInt(elem.offsetLeft);\n\t\t\t\t});\n\t\t\t\telem.addEventListener('mouseup', function () {\n\t\t\t\t\tsliderProps.isSelected = false;\n\t\t\t\t\tif (sliderProps.newX) {\n\t\t\t\t\t\tlet change = (sliderProps.currX - sliderProps.newX),\n\t\t\t\t\t\t\tprevSlider = slider[len - 1],\n\t\t\t\t\t\t\tnextSlider = slider[len + 1],\n\t\t\t\t\t\t\taddme = sliderProps.addMe * 2;\n\n\t\t\t\t\t\tif(!sliderProps.dimensions) {\n\t\t\t\t\t\t\tlet dim = sliderProps.dimensions = {},\n\t\t\t\t\t\t\t\tprops1 = sliderProps.dependencies = self._resize(i, true);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tdim.x1 = (props1[2].x === Infinity ? (self.gridConf.wMax) : (props1[2].x)) - addme;\n\t\t\t\t\t\t\tdim.x2 = (props1[3].x === Infinity ? (self.gridConf.wMax) : (props1[3].x)) - addme;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// previous slider\n\t\t\t\t\t\tif(slider[len - 1] && slider[len - 1].isVertical === true && !slider[len - 1].dimensions) {\n\t\t\t\t\t\t\tlet sliderProps = slider[len - 1],\n\t\t\t\t\t\t\t\tdim = sliderProps.dimensions = {},\n\t\t\t\t\t\t\t\tprops1 = sliderProps.dependencies = self._resize(i-1, true);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tdim.x1 = (props1[2].x === Infinity ? (self.gridConf.wMax) : (props1[2].x)) - addme;\n\t\t\t\t\t\t\tdim.x2 = (props1[3].x === Infinity ? (self.gridConf.wMax) : (props1[3].x)) - addme;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// next slider\n\t\t\t\t\t\tif(slider[len + 1] && slider[len + 1].isVertical === true && !slider[len + 1].dimensions) {\n\t\t\t\t\t\t\tlet sliderProps = slider[len + 1],\n\t\t\t\t\t\t\t\tdim = sliderProps.dimensions = {},\n\t\t\t\t\t\t\t\tprops1 = sliderProps.dependencies = self._resize(i+1, true);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tdim.x1 = (props1[2].x === Infinity ? (self.gridConf.wMax) : (props1[2].x)) - addme;\n\t\t\t\t\t\t\tdim.x2 = (props1[3].x === Infinity ? (self.gridConf.wMax) : (props1[3].x)) - addme;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(change > 0) { // moving left\n\t\t\t\t\t\t\tif(change > sliderProps.dimensions.x1) {\n\t\t\t\t\t\t\t\tchange = sliderProps.dimensions.x1;\n\t\t\t\t\t\t\t\tsliderProps.dimensions.x2 += sliderProps.dimensions.x1;\n\t\t\t\t\t\t\t\tnextSlider && (nextSlider.isVertical === true) && (nextSlider.dimensions.x1 += sliderProps.dimensions.x1);\n\t\t\t\t\t\t\t\tprevSlider && (prevSlider.isVertical === true) && (prevSlider.dimensions.x2 -= sliderProps.dimensions.x1);\n\t\t\t\t\t\t\t\t// update slider position\n\t\t\t\t\t\t\t\tsliderProps.newX = sliderProps.currX - sliderProps.dimensions.x1;\n\t\t\t\t\t\t\t\telem.style.left = sliderProps.newX + 'px';\n\t\t\t\t\t\t\t\tsliderProps.dimensions.x1 = 0;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsliderProps.dimensions.x2 += change;\n\t\t\t\t\t\t\t\tnextSlider && (nextSlider.isVertical === true) && (nextSlider.dimensions.x1 += change);\n\t\t\t\t\t\t\t\tprevSlider && (prevSlider.isVertical === true) && (prevSlider.dimensions.x2 -= change);\n\t\t\t\t\t\t\t\tsliderProps.dimensions.x1 -= change;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else { // moving right\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tlet _change = Math.abs(change);\n\t\t\t\t\t\t\tif(_change > sliderProps.dimensions.x2) { // dont go down\n\t\t\t\t\t\t\t\t_change = sliderProps.dimensions.x2;\n\t\t\t\t\t\t\t\tsliderProps.dimensions.x1 += sliderProps.dimensions.x2;\n\t\t\t\t\t\t\t\tnextSlider && (nextSlider.isVertical === true) && (nextSlider.dimensions.x1 -= sliderProps.dimensions.x2);\n\t\t\t\t\t\t\t\tprevSlider && (prevSlider.isVertical === true) && (prevSlider.dimensions.x2 += sliderProps.dimensions.x2);\n\t\t\t\t\t\t\t\t// update slider position\n\t\t\t\t\t\t\t\tsliderProps.newX = sliderProps.currX + sliderProps.dimensions.x2;\n\t\t\t\t\t\t\t\telem.style.left = sliderProps.newX + 'px';\n\t\t\t\t\t\t\t\tsliderProps.dimensions.x2 = 0;\n\t\t\t\t\t\t\t} else { // change normally\n\t\t\t\t\t\t\t\tsliderProps.dimensions.x2 -= _change;\n\t\t\t\t\t\t\t\tnextSlider && (nextSlider.isVertical === true) && (nextSlider.dimensions.x1 -= _change);\n\t\t\t\t\t\t\t\tprevSlider && (prevSlider.isVertical === true) && (prevSlider.dimensions.x2 += _change);\n\t\t\t\t\t\t\t\tsliderProps.dimensions.x1 += _change;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tchange = -1 * _change;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself._excuteSliderChange(true, change, sliderProps.dependencies[0], sliderProps.dependencies[1]);\n\t\t\t\t\t\t// change current position of x\n\t\t\t\t\t\tsliderProps.currX = sliderProps.newX;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tself.parent.addEventListener('mousemove', function (e) {\n\t\t\t\t\tif (sliderProps.isSelected == true) {\n\t\t\t\t\t\tsliderProps.newX = (e.clientX - sliderProps.x);\n\t\t\t\t\t\telem.style.left = sliderProps.newX + 'px';\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tself.parent.appendChild(elem);\n\t\t\t}\n\t\t}\n\t\treturn slider;\n\t}\n\t/**\n\t * \n\t * @param {number} i - index of the slider \n\t * @param {Boolean} isVertical - The slider is vertical or not\n\t */\n\t_resize(i, isVertical) {\n\t\tlet gridCount = this.gridCount,\n\t\t\tlist = this.gridList,\n\t\t\tcount = 0,\n\t\t\tc = 0,\n\t\t\tside1 = [],\n\t\t\tside2 = [],\n\t\t\tboundings,\n\t\t\tmovePos = {\n\t\t\t\tx: Infinity,\n\t\t\t\ty: Infinity\n\t\t\t},\n\t\t\tmoveNeg = {\n\t\t\t\tx: Infinity,\n\t\t\t\ty: Infinity\n\t\t\t};\n\n\t\tif (isVertical) {\n\t\t\tcount = gridCount['rows'];\n\t\t\tc = gridCount['columns'];\n\t\t} else {\n\t\t\tc = gridCount['rows'];\n\t\t\tcount = gridCount['columns'];\n\t\t}\n\n\t\tfor (let j = 0; j < count; j++) {\n\t\t\tlet k1,\n\t\t\t\tk2;\n\n\t\t\tif (count > 1 && !isVertical) {\n\t\t\t\tlet startingPoint = count * (i - 1);\n\t\t\t\tk1 = startingPoint + j;\n\t\t\t\tk2 = startingPoint + j + count;\n\t\t\t} else {\n\t\t\t\tk2 = (i + (j * c));\n\t\t\t\tk1 = k2 - 1;\n\t\t\t}\n\n\t\t\tside1.push(list[k1]);\n\t\t\tside2.push(list[k2]);\n\t\t}\n\t\t// if change is negetive select side2\n\t\t// check the measurement for both sides negetive and positive\t\n\t\tside1.forEach(i => {\n\t\t\tboundings = i.splitLayout && i.splitLayout.getMinimunDraggableDimension();\n\t\t\tboundings && movePos.x > boundings.x && (movePos.x = boundings.x);\n\t\t\tboundings && movePos.y > boundings.y && (movePos.y = boundings.y);\n\t\t});\n\t\tside2.forEach(i => {\n\t\t\tboundings = i.splitLayout && i.splitLayout.getMinimunDraggableDimension();\n\t\t\tboundings && moveNeg.x > boundings.x && (moveNeg.x = boundings.x);\n\t\t\tboundings && moveNeg.y > boundings.y && (moveNeg.y = boundings.y);\n\t\t});\n\n\t\treturn [side1, side2, movePos, moveNeg];\n\t}\n\t/**\n\t * \n\t * @param {Boolean} isVertical - Slider is vertical or not\n\t * @param {Number} change - the amount of change\n\t * @param {Array} s1 - side 1\n\t * @param {Array} s2 - side 2\n\t */\n\t_excuteSliderChange(isVertical, change, s1, s2) {\n\t\ts1.forEach(i => {\n\t\t\ti.resizeInnerContainers(isVertical, change, 0);\n\t\t});\n\t\ts2.forEach(i => {\n\t\t\ti.resizeInnerContainers(isVertical, change, 1);\n\t\t});\n\n\t\treturn this;\n\t}\n}\n\nexport {\n\tTrussLayout as\n\tdefault\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/manager.js\n **/","import TrussLayout from './manager.js';\nimport CircularButton from './button.js';\nimport {\n\t_addStyle\n} from './utils.js';\n\nclass Grid {\n\tconstructor(_parent) {\n\t\tthis.parentElement = _parent;\n\t\tthis.childGrids = {};\n\t\tthis.buttons = {};\n\t\tthis.dimensions = {};\n\t\tthis.buttonCounter = 0;\n\t\tthis.boundingClictDimension = null;\n\t}\n\n\tstatic defaultConfig() {\n\t\treturn {\n\t\t\tfloat: 'left',\n\t\t\tposition: 'relative'\n\t\t};\n\t}\n\n\t_config() {\n\t\treturn Object.assign({}, Grid.defaultConfig(), this.dimensions, {background: this.getConfiguration().background});\n\t}\n\n\tsetConfigaration (conf) {\n\t\tthis.configuration = conf;\n\t\treturn this;\n\t}\n\n\tgetConfiguration () {\n\t\treturn this.configuration;\n\t}\n\n\tsetDimensions(_dim) {\n\t\tthis.dimensions = _dim;\n\t\treturn this;\n\t}\n\n\t_setBoundingClintDimension(conf) {\n\t\tthis.boundingClictDimension = conf;\n\t\treturn this;\n\t}\n\n\tgetBoundingClintDimension() {\n\t\treturn this.boundingClictDimension;\n\t}\n\n\t_setOrientation(v) {\n\t\tthis.orientation = v;\n\t\treturn this;\n\t}\n\n\tisVertical() {\n\t\treturn this.orientation;\n\t}\n\n\t_createDiv(id) {\n\t\tlet elem = document.createElement('div');\n\t\tthis.id = elem.id = id;\n\t\t_addStyle(elem, this._config());\n\n\t\tthis.parentElement && this.parentElement.appendChild(elem);\n\t\tthis.node = elem;\n\t\treturn this;\n\t}\n\n\tremove() {\n\t\tlet parentElement = this.node.parentElement;\n\t\tparentElement.removeChild(this.node);\n\t}\n\n\tgetNode() {\n\t\treturn this.node;\n\t}\n\n\t// return id of the grid\n\tgetId() {\n\t\treturn this.node.id;\n\t}\n\n\taddContainer(cb) {\n\t\tif (this.chartContainer) {\n\t\t\tcb && cb.call(null, id);\n\t\t\treturn this.chartContainer;\n\t\t}\n\t\tlet buttonStatus = this.maxButton,\n\t\t\tchartContainer = this.chartContainer = document.createElement('div'),\n\t\t\tconfig = {\n\t\t\t\tposition: 'absolute',\n\t\t\t\tbackground: this.getConfiguration().containerBackground\n\t\t\t},\n\t\t\tid = `${this.getId()}ChartContainer`,\n\t\t\tparentElement = this.getNode(),\n\t\t\theight = parentElement.offsetHeight - 10,\n\t\t\twidth = parentElement.offsetWidth - 10,\n\t\t\ttop = 5,\n\t\t\tleft = 5;\n\n\t\tbuttonStatus.horizontalCount.top > 1 && (top += 40) && (height -= 40);\n\t\tbuttonStatus.horizontalCount.bottom > 1 && (height -= 40);\n\t\tbuttonStatus.verticalCount.left > 1 && (left += 40) && (width -= 40);\n\t\tbuttonStatus.verticalCount.right > 1 && (width -= 40);\n\n\t\tconfig.top = `${top}px`;\n\t\tconfig.left = `${left}px`;\n\t\tconfig.height = `${height}px`;\n\t\tconfig.width = `${width}px`;\n\n\t\tchartContainer.id = id;\n\t\t_addStyle(chartContainer, config);\n\t\tparentElement.appendChild(chartContainer);\n\n\t\tcb && cb.call(null, this.chartContainer);\n\n\t\treturn chartContainer;\n\t}\n\n\t_getContainerDimension () {\n\t\tif(!this.chartContainer) {\n\t\t\treturn {};\n\t\t}\n\t\tlet buttonStatus = this.maxButton,\n\t\t\tparentElement = this.getNode(),\n\t\t\theight = parentElement.offsetHeight - 10,\n\t\t\twidth = parentElement.offsetWidth - 10,\n\t\t\ttop = 5,\n\t\t\tleft = 5,\n\t\t\tconfig = {};\n\n\t\tbuttonStatus.horizontalCount.top > 1 && (top += 40) && (height -= 40);\n\t\tbuttonStatus.horizontalCount.bottom > 1 && (height -= 40);\n\t\tbuttonStatus.verticalCount.left > 1 && (left += 40) && (width -= 40);\n\t\tbuttonStatus.verticalCount.right > 1 && (width -= 40);\n\n\t\tconfig.top = `${top}px`;\n\t\tconfig.left = `${left}px`;\n\t\tconfig.height = `${height}px`;\n\t\tconfig.width = `${width}px`;\n\n\t\treturn config;\n\t}\n\n\tresizeContainer () {\n\t\tif(!this.chartContainer) {\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t_addStyle(this.chartContainer, this._getContainerDimension());\n\t}\n\n\tgetContainerId() {\n\t\tlet id = this.chartContainer ? this.chartContainer.id : this.addContainer().id;\n\t\treturn id;\n\t}\n\n\tcreateSplit(split, cb) {\n\t\tlet splitLayout = this.splitLayout = new TrussLayout(this.node);\n\t\tsplitLayout.setConfigaration(this.getConfiguration());\n\t\tthis.root && (splitLayout.parentManager = this.root, splitLayout.index = this.index);\n\t\t\n\t\treturn splitLayout.createSplit(split, cb);\n\t}\n\n\tcreateGoldenSplit(or, cb) {\n\t\tlet splitLayout = this.splitLayout = new TrussLayout(this.node);\n\t\tsplitLayout.setConfigaration(this.getConfiguration());\n\t\tthis.root && (splitLayout.parentManager = this.root, splitLayout.index = this.index);\n\t\t\n\t\treturn splitLayout.createGoldSplit(or, cb);\n\t}\n\n\taddButton(contentConf, orientation, events) {\n\t\tif(!orientation) {\n\t\t\torientation = {\n\t\t\t\tposition: 'tl',\n\t\t\t\torientation: 'horizontal'\n\t\t\t};\n\t\t}\n\t\tif (!this._canAddButton(orientation)) {\n\t\t\treturn this;\n\t\t}\n\t\tlet config = {\n\t\t\t\tposition: this._getButtonConfig(orientation),\n\t\t\t\tcontent: this._parseContentConfig(contentConf),\n\t\t\t\tconfiguration: this.getConfiguration()\n\t\t\t},\n\t\t\tid = `${this.getId()}Button${this.buttonCounter}`,\n\t\t\tbtnInstance = this.buttons[id] = new CircularButton(this.getNode(), config),\n\t\t\tbtn;\n\n\t\tbtn = btnInstance.render().getNode();\n\n\t\tif (events && Array.isArray(events)) {\n\t\t\tevents.forEach(i => {\n\t\t\t\ti.name && i.callback && this._addEvent(btn, i.name, i.callback.bind(this));\n\t\t\t});\n\t\t} else if (events && typeof events === 'object') {\n\t\t\tevents.name && events.callback && this._addEvent(btn, events.name, events.callback.bind(this));\n\t\t}\n\t\treturn btn;\n\t}\n\n\t_addEvent(elem, name, cb) {\n\t\ttypeof name === 'string' && typeof cb === 'function' && elem.addEventListener(name, cb);\n\t\treturn this;\n\t}\n\n\t_parseContentConfig(conf) {\n\t\tlet contentConfig = {};\n\t\tswitch (typeof conf) {\n\t\t\tcase 'string':\n\t\t\t\tcontentConfig.type = 'a';\n\t\t\t\tcontentConfig.innerHTML = conf;\n\t\t\t\tbreak;\n\t\t\tcase 'object':\n\t\t\t\tif (conf.text) {\n\t\t\t\t\tcontentConfig.type = 'a';\n\t\t\t\t\tcontentConfig.innerHTML = conf.text;\n\t\t\t\t} else if (conf.src) {\n\t\t\t\t\tcontentConfig.type = 'img';\n\t\t\t\t\tcontentConfig.src = conf.src;\n\t\t\t\t} else {\n\t\t\t\t\tcontentConfig = conf;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tcontentConfig.type = 'a';\n\t\t\t\tcontentConfig.innerHTML = '';\n\t\t}\n\t\treturn contentConfig;\n\t}\n\t/**\n\t * Generates JSON Schema for button Orientation\n\t * @returns {ob} - JSON object\n\t */\n\t_generateOrientationObj() {\n\t\tlet i = ['top', 'bottom'],\n\t\t\tii = ['left', 'right'],\n\t\t\tiii = ['horizontal', 'vertical'],\n\t\t\tob = {};\n\n\t\ti.forEach(_i => {\n\t\t\tob[_i] = {};\n\t\t\tii.forEach(_ii => {\n\t\t\t\tob[_i][_ii] = {};\n\t\t\t\tiii.forEach(_iii => {\n\t\t\t\t\tob[_i][_ii][_iii] = {\n\t\t\t\t\t\tisModified: false\n\t\t\t\t\t};\n\t\t\t\t\tob[_i][_ii][_iii][_i] = 0;\n\t\t\t\t\tob[_i][_ii][_iii][_ii] = 0;\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\n\t\treturn ob;\n\t}\n\n\t_parsePosition(str) {\n\t\tlet position = {\n\t\t\t\t'T': 'top',\n\t\t\t\t'L': 'left',\n\t\t\t\t'R': 'right',\n\t\t\t\t'B': 'bottom'\n\t\t\t},\n\t\t\tposStr;\n\t\tif (str && str.length == '2') {\n\t\t\tposStr = `${position[str[0].toUpperCase()]}-${position[str[1].toUpperCase()]}`;\n\t\t} else {\n\t\t\tposStr = str.replace(/\\s/g, '') || 'top-left'; // white spaces removed\n\t\t}\n\n\t\treturn posStr;\n\t}\n\n\tfacet (n, orientation) {\n\t\torientation = (orientation && orientation.toLowerCase()[0]) || 'v';\n\t\tlet split = [];\n\t\tif (Array.isArray(n)) {\n\t\t\tsplit = n;\n\t\t}\n\t\telse if ((typeof n !== 'number' && parseInt(n) < 2) || n < 2) {\n\t\t\treturn this;\n\t\t} else {\n\t\t\tif(orientation === 'v') {\n\t\t\t\tsplit[0] = 1;\n\t\t\t\tsplit[1] = n;\n\t\t\t} else {\n\t\t\t\tsplit[0] = n;\n\t\t\t\tsplit[1] = 1;\n\t\t\t}\n\t\t}\n\t\tfor(let i in this.buttons) {\n\t\t\tthis.getNode().removeChild(this.buttons[i].node);\n\t\t}\n\t\tthis.getNode().removeChild(this.chartContainer);\n\t\tthis.chartContainer = null;\n\t\tthis.buttons = {};\n\t\treturn this.createSplit(split);\n\t}\n\n\t_getButtonConfig(or) {\n\t\tlet position = or.position,\n\t\t\tHORIZONTAL = 'horizontal',\n\t\t\torientation = or.orientation || HORIZONTAL,\n\t\t\tstr = this._parsePosition(position),\n\t\t\tposArr = str.split('-'),\n\t\t\tstatus = this.orientation || (this.orientation = this._generateOrientationObj()),\n\t\t\tcurrentPos = {};\n\n\t\tposArr.forEach((str) => {\n\t\t\tstatus[str] && posArr.forEach((lr) => {\n\t\t\t\tlet _posObj = status[str][lr];\n\t\t\t\tif (_posObj) {\n\t\t\t\t\tfor (let i in _posObj) {\n\t\t\t\t\t\tif (i === orientation) {\n\t\t\t\t\t\t\tcurrentPos[str] = `${_posObj[i][str]}px`;\n\t\t\t\t\t\t\tcurrentPos[lr] = `${_posObj[i][lr]}px`;\n\n\t\t\t\t\t\t\torientation === HORIZONTAL ? (_posObj[i][lr] += 40, this.maxButton[orientation + 'Count'][str]++) :\n\t\t\t\t\t\t\t\t(_posObj[i][str] += 40, this.maxButton[orientation + 'Count'][lr]++);\n\n\t\t\t\t\t\t\t!_posObj[i]['isModified'] && (_posObj[i]['isModified'] = true);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (!_posObj[i]['isModified']) {\n\t\t\t\t\t\t\t\torientation === HORIZONTAL ? (_posObj[i][str] += 40, this.maxButton[orientation + 'Count'][lr]++) :\n\t\t\t\t\t\t\t\t\t(_posObj[i][lr] += 40, this.maxButton[orientation + 'Count'][str]++);\n\n\t\t\t\t\t\t\t\t_posObj[i]['isModified'] = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\treturn currentPos;\n\t}\n\t/**\n\t * checks the total number of buttons added and returns boolean if any more buttons can be added or not\n\t * @param {object} obj - orientation configaration\n\t * @returns {}\n\t */\n\t_canAddButton(obj) {\n\t\tlet orientation = `${obj.orientation}Count`,\n\t\t\tpos = this._parsePosition(obj.position), //obj.position.replace(/\\s/g, ''),\n\t\t\tposArr = pos.split('-'),\n\t\t\tcurrentBtnStatus = this.maxButton || (this.maxButton = this._calculateMaxButton()),\n\t\t\tposition = ((_or, _posArr) => {\n\t\t\t\tlet _pos = null;\n\t\t\t\tif (_or === 'horizontal') {\n\t\t\t\t\t_posArr.forEach(i => {\n\t\t\t\t\t\t(i === 'top' || i === 'bottom') && (_pos = i);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t_posArr.forEach(i => {\n\t\t\t\t\t\t(i === 'left' || i === 'right') && (_pos = i);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn _pos;\n\t\t\t})(obj.orientation, posArr);\n\n\t\treturn currentBtnStatus[orientation][position] < this.maxButton[obj.orientation];\n\t}\n\n\t_calculateMaxButton() {\n\t\tlet oh = this.node.offsetHeight,\n\t\t\tow = this.node.offsetWidth,\n\t\t\tbtnSize = 40;\n\n\t\tthis.maxButton || (this.maxButton = {\n\t\t\thorizontal: Math.floor(ow / btnSize),\n\t\t\tvertical: Math.floor(oh / btnSize),\n\t\t\thorizontalCount: {\n\t\t\t\ttop: 1,\n\t\t\t\tbottom: 1\n\t\t\t},\n\t\t\tverticalCount: {\n\t\t\t\tleft: 1,\n\t\t\t\tright: 1\n\t\t\t}\n\t\t});\n\n\t\treturn this;\n\t}\n\n\t// resizes parent and child components\n\tresizeInnerContainers(isvertical, change, operation) {\n\t\tlet layout = this.splitLayout,\n\t\t\tchildContainers = layout && layout.gridList,\n\t\t\tsliders = layout && layout.slider,\n\t\t\tproperty = isvertical ? 'width' : 'height',\n\t\t\tcount = isvertical ? 'columns' : 'rows',\n\t\t\tconf = layout && layout.gridCount,\n\t\t\tn = (conf && conf[count]) || 1,\n\t\t\tamount = change / n,\n\t\t\telem = this.getNode(),\n\t\t\tdataConf = elem.getBoundingClientRect();\n\n\t\t// first change own dimension (width / height);\n\t\telem.style[property] = (operation ? (dataConf[property] + change) : (dataConf[property] - change)) + 'px';\n\t\tthis.resizeContainer();\n\t\t\n\t\tfor (let key in sliders) {\n\t\t\tif (sliders.hasOwnProperty(key)) {\n\t\t\t\tthis.changeSliderDimension(sliders[key], isvertical, amount, key, op, conf);\n\t\t\t}\n\t\t}\n\n\t\tif (!childContainers) {\n\t\t\treturn this;\n\t\t}\n\n\t\tlet op = ((property === 'height') || (property === 'width' )) ? operation : 1;\n\n\t\tfor (let key in childContainers) {\n\t\t\tif (childContainers.hasOwnProperty(key)) {\n\t\t\t\tchildContainers[key].resizeInnerContainers(isvertical, amount, op);\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tchangeSliderDimension(sliderObj, isVertical, amount, key, op, conf) {\n\t\tlet node = sliderObj.slider,\n\t\t\tisVerticalSlider = sliderObj.isVertical,\n\t\t\tnumberOfCells = isVerticalSlider ? conf['rows']: conf['columns'],\n\t\t\tproperty = isVertical ? (isVerticalSlider ? 'left' : 'width') : (isVerticalSlider ? 'height' : 'top'),\n\t\t\tactualAmount,\n\t\t\tcalculatedAmount;\n\t\t\n\t\tif(property === 'width') {\n\t\t\tactualAmount =  amount * numberOfCells;\n\t\t} else if (property === 'left') {\n\t\t\tlet ic = Math.abs(conf['columns'] - 2 - Number(key)) + 1;\n\t\t\tactualAmount = amount * ic;\n\t\t} else if (property === 'height') {\n\t\t\tactualAmount =  amount * numberOfCells;\n\t\t} else {\n\t\t\tactualAmount = (Number(key) + 1) * amount;\n\t\t}\n\t\t// change the amount of positve and negetive value\n\t\tif(isVerticalSlider === isVertical) {\n\t\t\tif(sliderObj.dimensions) {\n\t\t\t\tfor(let i in sliderObj.dimensions) {\n\t\t\t\t\tsliderObj.dimensions[i] += amount;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsliderObj.addMe += amount;\n\t\t\t}\n\t\t}\n\t\tcalculatedAmount = parseFloat(node.style[property]) + (op ? actualAmount : (actualAmount * -1));\n\t\t\n\t\tproperty === 'left' && sliderObj.currX && (sliderObj.currX = calculatedAmount);\n\t\tproperty === 'top' && sliderObj.currY && (sliderObj.currY = calculatedAmount);\n\t\t\n\t\tnode.style[property] = calculatedAmount + 'px';\n\n\t\treturn this;\n\t}\n}\n\nexport default Grid;\n\n\n/** WEBPACK FOOTER **\n ** ./src/grid.js\n **/","import {_addStyle, _createElement} from './utils.js' ;\nclass CircularButton {\n\t/**\n\t * @constructor\n\t * config object will contain content type of the button\n\t * \n\t **/\n\tconstructor(_parent, config) {\n\t\tthis.parentElement = _parent;\n\t\tthis.config = config;\n\t\tthis.node = null;\n\t}\n\n\t_config () {\n\t\treturn {\n\t\t\t'round-button': {\n\t\t\t\twidth: '30px',\n\t\t\t\theight: '30px',\n\t\t\t\tposition: 'absolute',\n\t\t\t\tmargin: '10px'\n\t\t\t},\n\t\t\t'round-button-circle': {\n\t\t\t\twidth: '100%',\n\t\t\t\theight: 0,\n\t\t\t\tpaddingBottom: '100%',\n\t\t\t\tborderRadius: '50%',\n\t\t\t\toverflow: 'hidden',\n\t\t\t\tcursor: 'pointer',\n\t\t\t\tmarginLeft: '1%'\n\t\t\t},\n\t\t\t'a': {\n\t\t\t\tdisplay: 'block',\n\t\t\t\tfloat: 'left',\n\t\t\t\twidth: '100%',\n\t\t\t\tpaddingTop: '50%',\n\t\t\t\tpaddingBottom: '50%',\n\t\t\t\tlineHeight: '1em',\n\t\t\t\tmarginTop: '-0.5em',\n\t\t\t\ttextAlign: 'center',\n\t\t\t\tcolor: '#e2eaf3',\n\t\t\t\tfontFamily: 'Verdana',\n\t\t\t\tfontSize: '1em',\n\t\t\t\tfontWeight: 'bold',\n\t\t\t\ttextDecoration: 'none'\n\t\t\t},\n\t\t\t'img' : {\n\t\t\t\tdisplay: 'block',\n\t\t\t\twidth: '76%',\n\t\t\t\tpadding: '12%',\n\t\t\t\theight: 'auto'\n\t\t\t},\n\t\t\t'div' : {\n\t\t\t\tdisplay: 'block',\n\t\t\t\twidth: '30px',\n\t\t\t\theight: '30px'\n\t\t\t}\n\t\t};\n\t}\n\n\t_createButton (conf) {\n\t\tif(!conf.type) {\n\t\t\tconf.type = 'a';\n\t\t} else if (conf.type === 'svg') {\n\t\t\tconf.type = 'div';\n\t\t}\n\t\tlet outer = _createElement('div'),\n\t\t\tmiddle = _createElement('div'),\n\t\t\tinner = _createElement(conf.type), // depends on the content\n\t\t\tconfig = this._config();\n\t\t\n\t\t_addStyle(outer, config['round-button']);\n\t\t_addStyle(middle, config['round-button-circle']);\n\t\t_addStyle(middle, {\n\t\t\tbackground: this.config.configuration.buttonBackgroung,\n\t\t\tcolor: this.config.configuration.buttonTextColor,\n\t\t});\n\t\t_addStyle(inner, config[conf.type]); //@todo change it as given type\n\n\t\tswitch (conf.type) {\n\t\t\tcase 'a' : inner.href = conf.href || '#'; inner.innerHTML = conf.innerHTML.toUpperCase() || 'TL'; break;\n\t\t\tcase 'img' : inner.src = conf.src || ''; break;\n\t\t\tcase 'div' : inner.innerHTML = conf.html || ''; break;\n\t\t}\n\n\t\touter.appendChild(middle);\n\t\tmiddle.appendChild(inner);\n\n\t\treturn outer;\n\t}\n\n\t// after redering buttons chart will be rendered for better space management\n\trender () {\n\t\tlet config = this.config,\n\t\t\tposition = config.position || {top: 0, left:0},\n\t\t\tcontentConf = config.content,\n\t\t\tbutton = this.node = this._createButton(contentConf);\n\t\t\n\t\t_addStyle(button, position);\n\n\t\tthis.parentElement.appendChild(button);\n\t\treturn this;\n\t}\n\n\tgetNode () {\n\t\treturn this.node;\n\t}\n}\n\nexport {CircularButton as default};\n\n\n/** WEBPACK FOOTER **\n ** ./src/button.js\n **/","function getRandomColor () {\n\tlet letters = '0123456789ABCDEF',\n\t\tcolor = '#';\n\n\tfor (var i = 0; i < 6; i++) {\n\t\tcolor += letters[Math.floor(Math.random() * 16)];\n\t}\n\treturn color;\n}\n\nfunction _addStyle (elem, _config) {\n\tfor(let i in _config) {\n\t\telem.style[i] = _config[i];\n\t}\n\treturn this;\n}\n\nfunction _createElement (type) {\n\tif (type && typeof type === 'string') {\n\t\treturn document.createElement(type);\n\t}\n\treturn false;\n}\n\n/**\n* Rounds up a number to two decimal points.\n* @param {Number} d - given number to round up\n* @returns {Number} - rounded up number\n*/ \nfunction roundUp (d) {\n   return Math.round(d * 100) / 100;\n}\n\nexport {\n\tgetRandomColor,\n\t_addStyle,\n\t_createElement,\n\troundUp\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils.js\n **/"],"sourceRoot":""}