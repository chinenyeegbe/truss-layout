{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 960881e9d69841d59dfe","webpack:///./src/index.js","webpack:///./src/manager.js","webpack:///./src/grid.js","webpack:///./src/button.js","webpack:///./src/utils.js"],"names":["layout","attachEvent","document","isIE","navigator","userAgent","match","requestFrame","raf","window","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","fn","setTimeout","cancelFrame","cancel","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","clearTimeout","id","resizeListener","e","win","target","srcElement","__resizeRAF__","trigger","__resizeTrigger__","__resizeListeners__","forEach","call","objectLoad","contentDocument","defaultView","__resizeElement__","addEventListener","addResizeListener","element","getComputedStyle","position","style","obj","createElement","setAttribute","onload","type","appendChild","data","push","removeResizeListener","splice","indexOf","length","detachEvent","removeEventListener","removeChild","addEvent","removeEvent","_init","_parent","getElementsByTagName","elem","instance","conf","height","width","newHeight","innerHeight","newWidth","innerWidth","resizeLayout","offsetHeight","offsetWidth","init","TrussLayout","gridList","elementCounter","parent","gridCount","margin","padding","heightChange","widthChange","rows","cols","columns","ch","cw","list","i","ii","slider","_slider","isVertical","ic","Math","abs","Number","left","parseFloat","currX","numberOfCells","top","currY","node","getNode","splitLayout","resizeContainer","elementList","h","w","r","c","parentManager","gridConf","hMax","hSum","wMax","wSum","gridConfCollection","index","parentConf","collection","move","x","Infinity","y","boundings","item","getMinimunDraggableDimension","splits","cb","Object","keys","_removeAllGrids","parentElem","config","parentHeight","parentWidth","calculatedHeight","floor","calculatedWidth","numberOfDivs","setDraggableDimension","grid","setDimensions","_createDiv","_calculateMaxButton","root","_createSliders","orientation","or","toLowerCase","_getGoldenRatio","childConf","Array","isArray","n","goldLarge","goldSmall","self","sliderHeight","sliderWidth","startHeight","background","zIndex","len","newY","isSelected","positive","negetive","sliderProps","cursor","parseInt","clientY","offsetTop","change","prevSlider","nextSlider","props1","_resize","dimensions","dim","props2","y1","y2","_change","_excuteSliderChange","startWidth","newX","clientX","offsetLeft","props","count","side1","side2","j","k1","k2","item1","item2","startingPoint","s1","s2","resizeInnerContainers","side","default","Grid","parentElement","childGrids","buttons","buttonCounter","boundingClictDimension","assign","defaultConfig","_dim","v","_config","chartContainer","buttonStatus","maxButton","getId","horizontalCount","bottom","verticalCount","right","_getContainerDimension","addContainer","split","createSplit","createGoldSplit","contentConf","events","_canAddButton","_getButtonConfig","content","_parseContentConfig","btnInstance","btn","render","name","callback","_addEvent","bind","contentConfig","innerHTML","text","src","iii","ob","_i","_ii","_iii","isModified","str","posStr","toUpperCase","replace","HORIZONTAL","_parsePosition","posArr","status","_generateOrientationObj","currentPos","lr","_posObj","pos","currentBtnStatus","_or","_posArr","_pos","oh","ow","btnSize","horizontal","vertical","isvertical","operation","childContainers","sliders","property","amount","dataConf","getBoundingClientRect","op","key","hasOwnProperty","changeSliderDimension","sliderObj","isVerticalSlider","actualAmount","calculatedAmount","float","CircularButton","paddingBottom","borderRadius","overflow","boxShadow","display","paddingTop","lineHeight","marginTop","textAlign","color","fontFamily","fontSize","fontWeight","textDecoration","outer","middle","inner","href","html","button","_createButton","getRandomColor","letters","random","_addStyle","_createElement","roundUp","d","round"],"mappings":"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","file":"truss.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"truss\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"truss\"] = factory();\n\telse\n\t\troot[\"truss\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/Users/sumitpal/work/dev/truss-layout/implementation\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 960881e9d69841d59dfe\n **/","import TrussLayout from './manager.js';\nlet layout = (function () {\n    var attachEvent = document.attachEvent;\n    var isIE = navigator.userAgent.match(/Trident/);\n    var requestFrame = (function () {\n        var raf = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame ||\n            function (fn) {\n                return window.setTimeout(fn, 20);\n            };\n        return function (fn) {\n            return raf(fn);\n        };\n    })();\n\n    var cancelFrame = (function () {\n        var cancel = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame ||\n            window.clearTimeout;\n        return function (id) {\n            return cancel(id);\n        };\n    })();\n\n    function resizeListener(e) {\n        var win = e.target || e.srcElement;\n        if (win.__resizeRAF__) cancelFrame(win.__resizeRAF__);\n        win.__resizeRAF__ = requestFrame(function () {\n            var trigger = win.__resizeTrigger__;\n            trigger.__resizeListeners__.forEach(function (fn) {\n                fn.call(trigger, e);\n            });\n        });\n    }\n\n    function objectLoad() {\n        this.contentDocument.defaultView.__resizeTrigger__ = this.__resizeElement__;\n        this.contentDocument.defaultView.addEventListener('resize', resizeListener);\n    }\n\n    let addResizeListener = function (element, fn) {\n        if (!element.__resizeListeners__) {\n            element.__resizeListeners__ = [];\n            if (attachEvent) {\n                element.__resizeTrigger__ = element;\n                element.attachEvent('onresize', resizeListener);\n            } else {\n                if (getComputedStyle(element).position == 'static') element.style.position = 'relative';\n                var obj = element.__resizeTrigger__ = document.createElement('object');\n                obj.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\n                obj.__resizeElement__ = element;\n                obj.onload = objectLoad;\n                obj.type = 'text/html';\n                if (isIE) element.appendChild(obj);\n                obj.data = 'about:blank';\n                if (!isIE) element.appendChild(obj);\n            }\n        }\n        element.__resizeListeners__.push(fn);\n    };\n\n    let removeResizeListener = function (element, fn) {\n        element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n        if (!element.__resizeListeners__.length) {\n            if (attachEvent) element.detachEvent('onresize', resizeListener);\n            else {\n                element.__resizeTrigger__.contentDocument.defaultView.removeEventListener('resize', resizeListener);\n                element.__resizeTrigger__ = !element.removeChild(element.__resizeTrigger__);\n            }\n        }\n    };\n\n    return {\n        addEvent: addResizeListener,\n        removeEvent: removeResizeListener\n    };\n})();\n// export  TrussLayout;\nfunction _init(_parent) {\n    !_parent && (_parent = document.getElementsByTagName('body')[0]);\n    let elem = document.createElement('div'),\n        instance,\n        conf = {};\n\n    elem.style.height = '100%';\n    elem.style.width = '100%';\n    elem.id = 'trussLayoutContainer';\n\n    layout.addEvent(elem, function(e){\n        let newHeight = e.target.innerHeight,\n            newWidth = e.target.innerWidth;\n        \n        instance.resizeLayout(-1 * (conf.height-newHeight), -1 * (conf.width - newWidth));\n        conf.height = newHeight;\n        conf.width = newWidth;\n    });\n\n    _parent.appendChild(elem);\n    instance = new TrussLayout(elem);\n\n    conf.height = elem.offsetHeight;\n    conf.width = elem.offsetWidth;\n\n    return instance;\n}\n\nexport {\n    _init as init\n};\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","import Grid from './grid.js';\nimport {\n\t_createElement,\n\t_addStyle,\n\troundUp\n} from './utils';\n\nclass TrussLayout {\n\tconstructor(elem) {\n\t\tthis.gridList = {};\n\t\tthis.elementCounter = 0;\n\t\tthis.parent = elem;\n\t\tthis.gridCount = {};\n\t}\n\n\tconfig() {\n\t\treturn {\n\t\t\tmargin: 5,\n\t\t\tpadding: 0\n\t\t};\n\t}\n\n\tresizeLayout(heightChange, widthChange) {\n\t\tlet rows = this.gridCount.rows,\n\t\t\tcols = this.gridCount.columns,\n\t\t\tch = roundUp(heightChange / rows),\n\t\t\tcw = roundUp(widthChange / cols),\n\t\t\tlist = this.gridList,\n\t\t\tconf = this.gridCount;\n\n\t\tfor (let i = 0, ii = this.slider.length; i < ii; i++) {\n\t\t\tlet _slider = this.slider[i],\n\t\t\t\tisVertical = _slider.isVertical,\n\t\t\t\telem = _slider.slider;\n\n\t\t\tif (isVertical) {\n\t\t\t\tlet ic = (Math.abs(conf['columns'] - 2 - Number(i)) + 1),\n\t\t\t\t\tleft = cw * ic;\n\t\t\t\tleft = (parseFloat(elem.style.left) + left);\n\t\t\t\t// logic for changinf the left position\n\t\t\t\telem.style.left = left + 'px';\n\t\t\t\t// logic for changing the height\n\t\t\t\telem.style.height = (parseFloat(elem.style.height) + heightChange) + 'px';\n\t\t\t\t// changing slider current position\n\t\t\t\t_slider.currX && (_slider.currX = left);\n\t\t\t} else {\n\t\t\t\tlet numberOfCells = isVertical ? conf['rows'] : conf['columns'];\n\t\t\t\t// logic for changing the top\n\t\t\t\tlet top = ch + ch * i;\n\t\t\t\ttop = (parseFloat(elem.style.top) + top);\n\t\t\t\telem.style.top = top + 'px';\n\t\t\t\t// changing the current top position of the slider\n\t\t\t\t_slider.currY && (_slider.currY = top);\n\t\t\t\t// LOGIC for changing the width\n\t\t\t\tlet width = cw * numberOfCells;\n\t\t\t\telem.style.width = (parseFloat(elem.style.width) + width) + 'px';\n\t\t\t}\n\t\t}\n\n\t\tfor (let i in list) {\n\t\t\tlet node = list[i].getNode(),\n\t\t\t\tlayout = list[i].splitLayout;\n\n\t\t\tnode.style.height = (parseFloat(node.style.height) + ch) + 'px';\n\t\t\tnode.style.width = (parseFloat(node.style.width) + cw) + 'px';\n\t\t\tlist[i].resizeContainer();\n\t\t\tlayout && layout.resizeLayout(ch, cw);\n\t\t}\n\t}\n\n\t_removeAllGrids() {\n\t\tfor (let i in this.gridList) {\n\t\t\tthis.parent.removeChild(this.gridList[i].getNode());\n\t\t}\n\t\tthis.elementList = {};\n\t\tthis.elementCounter = 0;\n\t}\n\t/**\n\t * set child node property that defines the amount that the grids can be shifted. This function also\n\t * stores the configuration to its parent manager (root node).\n\t * @param {Number} h - height of the grids\n\t * @param {Number} w - width of the grids\n\t * @param {Number} r - number of rows\n\t * @param {Number} c - number of columns\n\t */\n\tsetDraggableDimension(h, w, r, c) {\n\t\tlet parentManager = this.parentManager,\n\t\t\tgridConf = this.gridConf = {\n\t\t\t\thMax: h / 2,\n\t\t\t\thSum: (h / 2) * r,\n\t\t\t\twMax: w / 2,\n\t\t\t\twSum: (w / 2) * c\n\t\t\t};\n\t\tif (parentManager) {\n\t\t\tparentManager.gridConfCollection || (parentManager.gridConfCollection = {});\n\t\t\tparentManager.gridConfCollection[this.index] = gridConf;\n\t\t}\n\t}\n\n\tgetMinimunDraggableDimension() {\n\t\tlet parentConf = this.gridConf,\n\t\t\tcollection = this.gridConfCollection,\n\t\t\tgridCount = this.gridCount,\n\t\t\tlist = this.gridList,\n\t\t\tmove = {\n\t\t\t\tx: Infinity,\n\t\t\t\ty: Infinity\n\t\t\t};\n\n\t\tif (collection) {\n\t\t\tlet boundings;\n\t\t\tfor (let item in collection) {\n\t\t\t\tboundings = list[item].splitLayout && list[item].splitLayout.getMinimunDraggableDimension();\n\t\t\t\tmove.x > boundings.x && (move.x = boundings.x);\n\t\t\t\tmove.y > boundings.y && (move.y = boundings.y);\n\t\t\t}\n\t\t} else {\n\t\t\tlet rows = gridCount.rows,\n\t\t\t\tcols = gridCount.columns;\n\t\t\tif (rows > 1 && cols === 1) {\n\t\t\t\treturn {\n\t\t\t\t\tx: parentConf.wMax,\n\t\t\t\t\ty: parentConf.hSum\n\t\t\t\t}\n\t\t\t} else if (rows === 1 && cols > 1) {\n\t\t\t\treturn {\n\t\t\t\t\tx: parentConf.wSum,\n\t\t\t\t\ty: parentConf.hMax\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn {\n\t\t\t\t\tx: parentConf.wSum,\n\t\t\t\t\ty: parentConf.hSum\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn move;\n\t}\n\n\tcreateSplit(splits, cb) {\n\t\tObject.keys(this.gridList).length > 1 && this._removeAllGrids();\n\n\t\tlet rows = Number(splits[0]) || 1,\n\t\t\tcolumns = Number(splits[1]) || 1,\n\t\t\tparentElem = this.parent,\n\t\t\tconf = this.config(),\n\t\t\tparentHeight = parentElem.offsetHeight,\n\t\t\tparentWidth = parentElem.offsetWidth,\n\t\t\tmargin = conf.margin,\n\t\t\tpadding = conf.padding,\n\t\t\tcalculatedHeight = Math.floor((parentHeight / rows) - (margin * 2)),\n\t\t\tcalculatedWidth = Math.floor((parentWidth / columns) - (margin * 2)),\n\t\t\tnumberOfDivs = rows * columns,\n\t\t\tconfig = {\n\t\t\t\theight: `${calculatedHeight}px`,\n\t\t\t\twidth: `${calculatedWidth}px`,\n\t\t\t\tmargin: `${margin}px`,\n\t\t\t\tpadding: `${padding}px`\n\t\t\t};\n\n\t\tthis.setDraggableDimension(calculatedHeight, calculatedWidth, rows, columns);\n\n\t\tfor (let i = 0; i < numberOfDivs; i++) {\n\t\t\tlet grid = new Grid(parentElem),\n\t\t\t\tid = (parentElem.id || 'gridLayout') + this.elementCounter++;\n\t\t\tgrid.setDimensions(config)._createDiv(id)._calculateMaxButton();\n\t\t\tgrid.root = this;\n\t\t\tgrid.index = this.elementCounter - 1;\n\n\t\t\tthis.gridList[this.elementCounter - 1] = grid;\n\t\t}\n\n\t\tthis._createSliders(rows, columns, parentHeight, parentWidth, calculatedHeight, calculatedWidth);\n\t\tthis.gridCount = {\n\t\t\trows: rows,\n\t\t\tcolumns: columns\n\t\t};\n\n\t\ttypeof cb === 'function' && cb.call(this, this.gridList);\n\t\treturn this;\n\t}\n\n\tcreateGoldSplit(orientation, cb) {\n\t\tlet parentElem = this.parent,\n\t\t\tconf = this.config(),\n\t\t\tparentHeight = parentElem.offsetHeight,\n\t\t\tparentWidth = parentElem.offsetWidth,\n\t\t\tmargin = conf.margin,\n\t\t\tpadding = conf.padding,\n\t\t\tor = orientation && orientation[0].toLowerCase() === 'v' || false,\n\t\t\tcalculatedHeight = or ? this._getGoldenRatio(parentHeight) : Math.floor(parentHeight - (margin * 2)),\n\t\t\tcalculatedWidth = !or ? this._getGoldenRatio(parentWidth) : Math.floor(parentWidth - (margin * 2)),\n\t\t\tconfig = {\n\t\t\t\tmargin: `${margin}px`,\n\t\t\t\tpadding: `${padding}px`\n\t\t\t},\n\t\t\trows = or ? 2 : 1,\n\t\t\tcolumns = or ? 1 : 2;\n\n\t\tthis._createSliders(rows, columns, parentHeight, parentWidth, calculatedHeight, calculatedWidth);\n\t\tthis.gridCount = {\n\t\t\trows: rows,\n\t\t\tcolumns: columns\n\t\t};\n\n\t\tthis.childConf = {\n\t\t\thMax: parentHeight / 2,\n\t\t\thSum: parentHeight / 2,\n\t\t\twMax: parentHeight / 2,\n\t\t\twSum: parentWidth / 2\n\t\t};\n\n\t\tfor (let i = 0; i < 2; i++) {\n\t\t\tlet h,\n\t\t\t\tw;\n\t\t\th = config.height = `${Array.isArray(calculatedHeight) ? (calculatedHeight[i] - (margin * 2.1)) : calculatedHeight}px`;\n\t\t\tw = config.width = `${Array.isArray(calculatedWidth) ? (calculatedWidth[i] - (margin * 2.1)) : calculatedWidth}px`;\n\n\t\t\tlet grid = new Grid(parentElem),\n\t\t\t\tid = (parentElem.id || 'gridLayout') + this.elementCounter++;\n\t\t\tgrid.setDimensions(config)._createDiv(id)._calculateMaxButton();\n\t\t\tgrid.root = this;\n\n\t\t\tthis.gridList[this.elementCounter - 1] = grid;\n\t\t}\n\n\t\ttypeof cb === 'function' && cb.call(this, this.gridList);\n\t\treturn this;\n\t}\n\n\t_getGoldenRatio(n) {\n\t\tlet goldLarge = Math.floor(n / 1.618),\n\t\t\tgoldSmall = Math.floor(n - goldLarge);\n\t\treturn [goldLarge, goldSmall];\n\t}\n\n\t_createSliders(r, c, h, w, ch, cw) {\n\t\tlet slider = this.slider || (this.slider = []),\n\t\t\tself = this,\n\t\t\tconfig = {\n\t\t\t\tposition: 'absolute'\n\t\t\t},\n\t\t\tmargin = 5;\n\n\t\tif (r > 1) { // for r = 3 there will be (3-1) horizontal sliders\n\t\t\tlet sliderHeight = margin * 2,\n\t\t\t\tsliderWidth = w - margin * 2;\n\n\t\t\tfor (let i = 1; i < r; i++) {\n\t\t\t\tlet startHeight = (Array.isArray(ch) ? ch[i - 1] - margin : (ch + margin - (margin / 2 * (i - 1)))),\n\t\t\t\t\ttop = ((startHeight * i) + (sliderHeight * (i - 1)));\n\n\t\t\t\tconfig.top = `${top}px`;\n\t\t\t\tconfig.left = `${margin}px`;\n\t\t\t\tconfig.height = `${sliderHeight}px`;\n\t\t\t\tconfig.width = `${sliderWidth}px`;\n\t\t\t\tconfig.background = '#faebd7';\n\t\t\t\tconfig.zIndex = 10;\n\n\t\t\t\tlet elem = _createElement('div'),\n\t\t\t\t\tid = `${i}`,\n\t\t\t\t\tlen = slider.length;\n\n\t\t\t\t_addStyle(elem, config);\n\t\t\t\tslider.push({\n\t\t\t\t\tslider: elem,\n\t\t\t\t\tisVertical: false,\n\t\t\t\t\ty: 0,\n\t\t\t\t\tcurrY: top,\n\t\t\t\t\tnewY: 0,\n\t\t\t\t\tisSelected: false,\n\t\t\t\t\tpositive: null,\n\t\t\t\t\tnegetive: null\n\t\t\t\t});\n\t\t\t\telem.id = this.parent.id + id;\n\n\t\t\t\tlet sliderProps = slider[len];\n\n\t\t\t\telem.addEventListener('mouseover', function () {\n\t\t\t\t\tthis.style.background = '#dbc28c';\n\t\t\t\t\tthis.style.cursor = 'ns-resize';\n\t\t\t\t\tthis.style.zIndex = parseInt(this.style.zIndex) + 1;\n\t\t\t\t});\n\t\t\t\telem.addEventListener('mouseout', function () {\n\t\t\t\t\t!sliderProps.isSelected && (this.style.background = '#faebd7');\n\t\t\t\t});\n\t\t\t\telem.addEventListener('mousedown', function (e) {\n\t\t\t\t\tsliderProps.isSelected = true;\n\t\t\t\t\tsliderProps.y = e.clientY - parseInt(elem.offsetTop);\n\t\t\t\t});\n\t\t\t\telem.addEventListener('mouseup', function () {\n\t\t\t\t\tsliderProps.isSelected = false;\n\t\t\t\t\t// self._resize((sliderProps.currY - sliderProps.newY), i, false);\n\t\t\t\t\t// sliderProps.currY = sliderProps.newY;\n\t\t\t\t\t// debugger;\n\t\t\t\t\tif (sliderProps.newY) {\n\t\t\t\t\t\t// if newx is greater the zero\n\t\t\t\t\t\tlet change = (sliderProps.currY - sliderProps.newY),\n\t\t\t\t\t\t\tprevSlider = slider[len - 1],\n\t\t\t\t\t\t\tnextSlider = slider[len + 1],\n\t\t\t\t\t\t\tprops1 = self._resize(10, i, false);\n\t\t\t\t\t\t\t // sliderProps.move;// || (sliderProps.move = props[2]);\n\t\t\t\t\t\tif(!sliderProps.dimensions) {\n\t\t\t\t\t\t\tlet dim = sliderProps.dimensions = {},\n\t\t\t\t\t\t\t\tprops1 = self._resize(1, i, false),\n\t\t\t\t\t\t\t\tprops2 = self._resize(-1, i, false);\n\n\t\t\t\t\t\t\tdim.y1 = props1[2].y === Infinity ? (sliderProps.positive = self.gridConf.hMax) : (sliderProps.positive = props1[2].y);\n\t\t\t\t\t\t\tdim.y2 = props2[2].y === Infinity ? (sliderProps.positive = self.gridConf.hMax) : (sliderProps.positive = props2[2].y);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(slider[len - 1] && slider[len - 1].isVertical === false && !slider[len - 1].dimensions) {\n\t\t\t\t\t\t\tlet sliderProps = slider[len - 1],\n\t\t\t\t\t\t\t\tdim = sliderProps.dimensions = {},\n\t\t\t\t\t\t\t\tprops1 = self._resize(1, i-1, false),\n\t\t\t\t\t\t\t\tprops2 = self._resize(-1, i-1, false);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tdim.y1 = props1[2].y === Infinity ? (sliderProps.positive = self.gridConf.hMax) : (sliderProps.positive = props1[2].y);\n\t\t\t\t\t\t\tdim.y2 = props2[2].y === Infinity ? (sliderProps.positive = self.gridConf.hMax) : (sliderProps.positive = props2[2].y);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(slider[len + 1] && slider[len + 1].isVertical === false && !slider[len + 1].dimensions) {\n\t\t\t\t\t\t\tlet sliderProps = slider[len + 1],\n\t\t\t\t\t\t\t\tdim = sliderProps.dimensions = {},\n\t\t\t\t\t\t\t\tprops1 = self._resize(1, i+1, false),\n\t\t\t\t\t\t\t\tprops2 = self._resize(-1, i+1, false);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tdim.y1 = props1[2].y === Infinity ? (sliderProps.positive = self.gridConf.hMax) : (sliderProps.positive = props1[2].y);\n\t\t\t\t\t\t\tdim.y2 = props2[2].y === Infinity ? (sliderProps.positive = self.gridConf.hMax) : (sliderProps.positive = props2[2].y);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (change > 0) {\n\t\t\t\t\t\t\tif (change > sliderProps.dimensions.y1) {\n\t\t\t\t\t\t\t\tchange = sliderProps.dimensions.y1;\n\t\t\t\t\t\t\t\tsliderProps.dimensions.y2 += sliderProps.dimensions.y1;\n\t\t\t\t\t\t\t\tnextSlider && (nextSlider.isVertical === false) && (nextSlider.dimensions.y1 += sliderProps.dimensions.y1);\n\t\t\t\t\t\t\t\tprevSlider && (prevSlider.isVertical === false) && (prevSlider.dimensions.y2 -= sliderProps.dimensions.y1);\n\t\t\t\t\t\t\t\t// update slider position\n\t\t\t\t\t\t\t\tsliderProps.newY = sliderProps.currY - sliderProps.dimensions.y1;\n\t\t\t\t\t\t\t\telem.style.top = sliderProps.newY + 'px';\n\t\t\t\t\t\t\t\tsliderProps.dimensions.y1 = 0;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsliderProps.dimensions.y2 += change;\n\t\t\t\t\t\t\t\tnextSlider && (nextSlider.isVertical === false) && (nextSlider.dimensions.y1 += change);\n\t\t\t\t\t\t\t\tprevSlider && (prevSlider.isVertical === false) && (prevSlider.dimensions.y2 -= change);\n\t\t\t\t\t\t\t\tsliderProps.dimensions.y1 -= change;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet _change = Math.abs(change);\n\t\t\t\t\t\t\tif(_change > sliderProps.dimensions.y2) { // dont go down\n\t\t\t\t\t\t\t\t_change = sliderProps.dimensions.y2;\n\t\t\t\t\t\t\t\tsliderProps.dimensions.y1 += sliderProps.dimensions.y2;\n\t\t\t\t\t\t\t\tnextSlider && (nextSlider.isVertical === false) && (nextSlider.dimensions.y1 -= sliderProps.dimensions.y2);\n\t\t\t\t\t\t\t\tprevSlider && (prevSlider.isVertical === false) && (prevSlider.dimensions.y2 += sliderProps.dimensions.y2);\n\t\t\t\t\t\t\t\t// update slider position\n\t\t\t\t\t\t\t\tsliderProps.newY = sliderProps.currY + sliderProps.dimensions.y2;\n\t\t\t\t\t\t\t\telem.style.top = sliderProps.newY + 'px';\n\t\t\t\t\t\t\t\tsliderProps.dimensions.y2 = 0;\n\t\t\t\t\t\t\t} else { // change normally\n\t\t\t\t\t\t\t\tsliderProps.dimensions.y2 -= _change;\n\t\t\t\t\t\t\t\tnextSlider && (nextSlider.isVertical === false) && (nextSlider.dimensions.y1 -= _change);\n\t\t\t\t\t\t\t\tprevSlider && (prevSlider.isVertical === false) && (prevSlider.dimensions.y2 += _change);\n\t\t\t\t\t\t\t\tsliderProps.dimensions.y1 += _change;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tchange = -1 * _change;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tself._excuteSliderChange(false, change, props1);\n\t\t\t\t\t}\n\t\t\t\t\tsliderProps.currY = sliderProps.newY;\n\t\t\t\t});\n\t\t\t\tthis.parent.addEventListener('mousemove', function (e) {\n\t\t\t\t\tif (sliderProps.isSelected == true) {\n\t\t\t\t\t\tsliderProps.newY = (e.clientY - sliderProps.y);\n\t\t\t\t\t\telem.style.top = sliderProps.newY + 'px';\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.parent.appendChild(elem);\n\t\t\t}\n\t\t}\n\n\t\tif (c > 1) {\n\t\t\tlet sliderHeight = h - margin * 2,\n\t\t\t\tsliderWidth = margin * 2;\n\n\t\t\tfor (let i = 1; i < c; i++) {\n\t\t\t\tlet startWidth = (Array.isArray(cw) ? cw[i - 1] - margin : cw),\n\t\t\t\t\tleft = ((startWidth * i) + (sliderWidth * (i - 1)));\n\t\t\t\t/* @todo: below line is done as non-gold layout margin is not add\n\t\t\t\t\tadd margin value at time of creation */\n\t\t\t\t!Array.isArray(cw) && (left += margin);\n\t\t\t\t// the above line\n\t\t\t\tconfig.top = `${margin}px`;\n\t\t\t\tconfig.left = `${left}px`;\n\t\t\t\tconfig.height = `${sliderHeight}px`;\n\t\t\t\tconfig.width = `${sliderWidth}px`;\n\t\t\t\tconfig.background = '#faebd7';\n\n\t\t\t\tlet elem = _createElement('div'),\n\t\t\t\t\tid = `${i}`,\n\t\t\t\t\tlen = slider.length,\n\t\t\t\t\tsliderProps;\n\n\t\t\t\t_addStyle(elem, config);\n\t\t\t\telem.id = this.parent.id + id;\n\t\t\t\tslider.push({\n\t\t\t\t\tslider: elem,\n\t\t\t\t\tisVertical: true,\n\t\t\t\t\tx: 0,\n\t\t\t\t\tcurrX: left,\n\t\t\t\t\tnewX: 0,\n\t\t\t\t\tisSelected: false,\n\t\t\t\t\tnegetive: cw / 2,\n\t\t\t\t\tpositive: cw / 2\n\t\t\t\t});\n\t\t\t\tsliderProps = slider[len];\n\n\t\t\t\telem.addEventListener('mouseover', function () {\n\t\t\t\t\tthis.style.background = '#dbc28c';\n\t\t\t\t\tthis.style.cursor = 'ew-resize';\n\t\t\t\t\tthis.style.zIndex += 1;\n\t\t\t\t});\n\t\t\t\telem.addEventListener('mouseout', function () {\n\t\t\t\t\t!sliderProps.isSelected && (this.style.background = '#faebd7');\n\t\t\t\t});\n\t\t\t\telem.addEventListener('mousedown', function (e) {\n\t\t\t\t\tsliderProps.isSelected = true;\n\t\t\t\t\tsliderProps.x = e.clientX - parseInt(elem.offsetLeft);\n\t\t\t\t});\n\t\t\t\telem.addEventListener('mouseup', function () {\n\t\t\t\t\tsliderProps.isSelected = false;\n\t\t\t\t\tif (sliderProps.currX) {\n\t\t\t\t\t\t// if newx is greater the zero\n\t\t\t\t\t\tlet props = self._resize((sliderProps.currX - sliderProps.newX), i, true);\n\t\t\t\t\t\t// decide the amount of change\n\n\t\t\t\t\t\t// place changes among the grids\n\t\t\t\t\t\tself._excuteSliderChange(true, (sliderProps.currX - sliderProps.newX), props);\n\t\t\t\t\t\tsliderProps.currX = sliderProps.newX;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tself.parent.addEventListener('mousemove', function (e) {\n\t\t\t\t\tif (sliderProps.isSelected == true) {\n\t\t\t\t\t\tsliderProps.newX = (e.clientX - sliderProps.x);\n\t\t\t\t\t\telem.style.left = sliderProps.newX + 'px';\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tself.parent.appendChild(elem);\n\t\t\t}\n\t\t}\n\t\treturn slider;\n\t}\n\n\t_resize(change, i, isVertical) {\n\t\tlet gridCount = this.gridCount,\n\t\t\tlist = this.gridList,\n\t\t\tcount = 0,\n\t\t\tc = 0,\n\t\t\tside1 = [],\n\t\t\tside2 = [],\n\t\t\tboundings,\n\t\t\tmove = {\n\t\t\t\tx: Infinity,\n\t\t\t\ty: Infinity\n\t\t\t};\n\n\t\tif (isVertical) {\n\t\t\tcount = gridCount['rows'];\n\t\t\tc = gridCount['columns'];\n\t\t} else {\n\t\t\tc = gridCount['rows'];\n\t\t\tcount = gridCount['columns'];\n\t\t}\n\n\t\tfor (let j = 0; j < count; j++) {\n\t\t\tlet k1,\n\t\t\t\tk2,\n\t\t\t\titem1,\n\t\t\t\titem2;\n\n\t\t\tif (count > 1 && !isVertical) {\n\t\t\t\tlet startingPoint = count * (i - 1);\n\t\t\t\tk1 = startingPoint + j;\n\t\t\t\tk2 = startingPoint + j + count;\n\t\t\t} else {\n\t\t\t\tk2 = (i + (j * c)),\n\t\t\t\t\tk1 = k2 - 1;\n\t\t\t}\n\n\t\t\titem1 = list[k1];\n\t\t\titem2 = list[k2];\n\t\t\t// console.log(change, item1.index);\n\t\t\t// item1.splitLayout && console.log(item1.splitLayout.getMinimunDraggableDimension(),k1);\n\t\t\t// item2.splitLayout && console.log(item2.splitLayout.getMinimunDraggableDimension(),k2);\n\t\t\t// if (isVertical) { //move left\n\t\t\t// item1.resizeInnerContainers(isVertical, change, 0); // change \n\t\t\t// item2.resizeInnerContainers(isVertical, change, 1);\n\t\t\t// } else {\n\t\t\t// \titem1.resizeInnerContainers(isVertical, change, 0);\n\t\t\t// \titem2.resizeInnerContainers(isVertical, change, 1);\n\t\t\t// }\n\n\n\t\t\tside1.push(item1);\n\t\t\tside2.push(item2);\n\t\t}\n\t\t// if change is negetive select side2\n\t\tif (change > 0) {\n\t\t\tside1.forEach(i => {\n\t\t\t\tboundings = i.splitLayout && i.splitLayout.getMinimunDraggableDimension();\n\t\t\t\tboundings && move.x > boundings.x && (move.x = boundings.x);\n\t\t\t\tboundings && move.y > boundings.y && (move.y = boundings.y);\n\t\t\t});\n\t\t} else {\n\t\t\tside2.forEach(i => {\n\t\t\t\tboundings = i.splitLayout && i.splitLayout.getMinimunDraggableDimension();\n\t\t\t\tboundings && move.x > boundings.x && (move.x = boundings.x);\n\t\t\t\tboundings && move.y > boundings.y && (move.y = boundings.y);\n\t\t\t});\n\t\t}\n\t\t// console.log(move)\n\t\treturn [side1, side2, move];\n\t\t// place changes among the grids\n\t\t// this._excuteSliderChange(isVertical, change, side1, side2);\t\n\t}\n\n\t_excuteSliderChange(isVertical, change, props) {\n\t\tlet s1 = props[0],\n\t\t\ts2 = props[1];\n\n\t\ts1.forEach(i => {\n\t\t\ti.resizeInnerContainers(isVertical, change, 0);\n\t\t});\n\t\ts2.forEach(i => {\n\t\t\ti.resizeInnerContainers(isVertical, change, 1);\n\t\t});\n\n\t\treturn this;\n\t}\n\n\t_getMinMoveValue(side) {\n\n\t}\n}\n\nexport {\n\tTrussLayout as\n\tdefault\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/manager.js\n **/","import TrussLayout from './manager.js';\nimport CircularButton from './button.js';\nimport {\n\t_addStyle\n} from './utils.js';\n\nclass Grid {\n\tconstructor(_parent) {\n\t\tthis.parentElement = _parent;\n\t\tthis.childGrids = {};\n\t\tthis.buttons = {};\n\t\tthis.dimensions = {};\n\t\tthis.buttonCounter = 0;\n\t\tthis.boundingClictDimension = null;\n\t}\n\n\tstatic defaultConfig() {\n\t\treturn {\n\t\t\tbackground: '#adc8d6',\n\t\t\tfloat: 'left',\n\t\t\tposition: 'relative'\n\t\t};\n\t}\n\n\t_config() {\n\t\treturn Object.assign({}, Grid.defaultConfig(), this.dimensions);\n\t}\n\n\tsetDimensions(_dim) {\n\t\tthis.dimensions = _dim;\n\t\treturn this;\n\t}\n\n\t_setBoundingClintDimension(conf) {\n\t\tthis.boundingClictDimension = conf;\n\t\treturn this;\n\t}\n\n\tgetBoundingClintDimension() {\n\t\treturn this.boundingClictDimension;\n\t}\n\n\t_setOrientation(v) {\n\t\tthis.orientation = v;\n\t\treturn this;\n\t}\n\n\tisVertical() {\n\t\treturn this.orientation;\n\t}\n\n\t_createDiv(id) {\n\t\tlet elem = document.createElement('div');\n\n\t\tthis.id = elem.id = id;\n\t\t_addStyle(elem, this._config());\n\n\t\tthis.parentElement && this.parentElement.appendChild(elem);\n\t\tthis.node = elem;\n\t\treturn this;\n\t}\n\n\tremove() {\n\t\tlet parentElement = this.node.parentElement;\n\t\tparentElement.removeChild(this.node);\n\t}\n\n\tgetNode() {\n\t\treturn this.node;\n\t}\n\n\t// return id of the grid\n\tgetId() {\n\t\treturn this.node.id;\n\t}\n\n\taddContainer(cb) {\n\t\tif (this.chartContainer) {\n\t\t\tcb && cb.call(null, id);\n\t\t\treturn this.chartContainer;\n\t\t}\n\t\tlet buttonStatus = this.maxButton,\n\t\t\tchartContainer = this.chartContainer = document.createElement('div'),\n\t\t\tconfig = {\n\t\t\t\tposition: 'absolute',\n\t\t\t\tbackground: '#ffffff'\n\t\t\t},\n\t\t\tid = `${this.getId()}ChartContainer`,\n\t\t\tparentElement = this.getNode(),\n\t\t\theight = parentElement.offsetHeight - 10,\n\t\t\twidth = parentElement.offsetWidth - 10,\n\t\t\ttop = 5,\n\t\t\tleft = 5;\n\n\t\tbuttonStatus.horizontalCount.top > 1 && (top += 40) && (height -= 40);\n\t\tbuttonStatus.horizontalCount.bottom > 1 && (height -= 40);\n\t\tbuttonStatus.verticalCount.left > 1 && (left += 40) && (width -= 40);\n\t\tbuttonStatus.verticalCount.right > 1 && (width -= 40);\n\n\t\tconfig.top = `${top}px`;\n\t\tconfig.left = `${left}px`;\n\t\tconfig.height = `${height}px`;\n\t\tconfig.width = `${width}px`;\n\n\t\tchartContainer.id = id;\n\t\t_addStyle(chartContainer, config);\n\t\tparentElement.appendChild(chartContainer);\n\n\t\tcb && cb.call(null, id);\n\n\t\treturn chartContainer;\n\t}\n\n\t_getContainerDimension () {\n\t\tif(!this.chartContainer) {\n\t\t\treturn {};\n\t\t}\n\t\tlet buttonStatus = this.maxButton,\n\t\t\tparentElement = this.getNode(),\n\t\t\theight = parentElement.offsetHeight - 10,\n\t\t\twidth = parentElement.offsetWidth - 10,\n\t\t\ttop = 5,\n\t\t\tleft = 5,\n\t\t\tconfig = {};\n\n\t\tbuttonStatus.horizontalCount.top > 1 && (top += 40) && (height -= 40);\n\t\tbuttonStatus.horizontalCount.bottom > 1 && (height -= 40);\n\t\tbuttonStatus.verticalCount.left > 1 && (left += 40) && (width -= 40);\n\t\tbuttonStatus.verticalCount.right > 1 && (width -= 40);\n\n\t\tconfig.top = `${top}px`;\n\t\tconfig.left = `${left}px`;\n\t\tconfig.height = `${height}px`;\n\t\tconfig.width = `${width}px`;\n\n\t\treturn config;\n\t}\n\n\tresizeContainer () {\n\t\tif(!this.chartContainer) {\n\t\t\treturn null;\n\t\t}\n\t\t\n\t\t_addStyle(this.chartContainer, this._getContainerDimension());\n\t}\n\n\tgetContainerId() {\n\t\tlet id = this.chartContainer ? this.chartContainer.id : this.addContainer().id;\n\t\treturn id;\n\t}\n\n\tcreateSplit(split, cb) {\n\t\tlet splitLayout = this.splitLayout = new TrussLayout(this.node);\n\t\tthis.root && (splitLayout.parentManager = this.root, splitLayout.index = this.index);\n\t\tsplitLayout.createSplit(split, cb);\n\t\treturn this;\n\t}\n\n\tcreateGoldenSplit(or, cb) {\n\t\tlet splitLayout = this.splitLayout = new TrussLayout(this.node);\n\t\tthis.root && (splitLayout.parentManager = this.root);\n\t\tsplitLayout.createGoldSplit(or, cb);\n\t\treturn this;\n\t}\n\n\taddButton(contentConf, orientation, events) {\n\t\tif (!this._canAddButton(orientation)) {\n\t\t\treturn this;\n\t\t}\n\t\tlet config = {\n\t\t\t\tposition: this._getButtonConfig(orientation),\n\t\t\t\tcontent: this._parseContentConfig(contentConf)\n\t\t\t},\n\t\t\tid = `${this.getId()}Button${this.buttonCounter}`,\n\t\t\tbtnInstance = this.buttons[id] = new CircularButton(this.getNode(), config),\n\t\t\tbtn;\n\n\t\tbtn = btnInstance.render().getNode();\n\n\t\tif (events && Array.isArray(events)) {\n\t\t\tevents.forEach(i => {\n\t\t\t\ti.name && i.callback && this._addEvent(btn, i.name, i.callback.bind(this));\n\t\t\t});\n\t\t} else if (events && typeof events === 'object') {\n\t\t\tevents.name && events.callback && this._addEvent(btn, events.name, events.callback.bind(this));\n\t\t}\n\t\treturn btn;\n\t}\n\n\t_addEvent(elem, name, cb) {\n\t\ttypeof name === 'string' && typeof cb === 'function' && elem.addEventListener(name, cb);\n\t\treturn this;\n\t}\n\n\t_parseContentConfig(conf) {\n\t\tlet contentConfig = {};\n\t\tswitch (typeof conf) {\n\t\t\tcase 'string':\n\t\t\t\tcontentConfig.type = 'a';\n\t\t\t\tcontentConfig.innerHTML = conf;\n\t\t\t\tbreak;\n\t\t\tcase 'object':\n\t\t\t\tif (conf.text) {\n\t\t\t\t\tcontentConfig.type = 'a';\n\t\t\t\t\tcontentConfig.innerHTML = conf.text;\n\t\t\t\t} else if (conf.src) {\n\t\t\t\t\tcontentConfig.type = 'img';\n\t\t\t\t\tcontentConfig.src = conf.src;\n\t\t\t\t} else {\n\t\t\t\t\tcontentConfig = conf;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tcontentConfig.type = 'a';\n\t\t\t\tcontentConfig.innerHTML = '';\n\t\t}\n\t\treturn contentConfig;\n\t}\n\t/**\n\t * Generates JSON Schema for button Orientation\n\t * @returns {ob} - JSON object\n\t */\n\t_generateOrientationObj() {\n\t\tlet i = ['top', 'bottom'],\n\t\t\tii = ['left', 'right'],\n\t\t\tiii = ['horizontal', 'vertical'],\n\t\t\tob = {};\n\n\t\ti.forEach(_i => {\n\t\t\tob[_i] = {};\n\t\t\tii.forEach(_ii => {\n\t\t\t\tob[_i][_ii] = {};\n\t\t\t\tiii.forEach(_iii => {\n\t\t\t\t\tob[_i][_ii][_iii] = {\n\t\t\t\t\t\tisModified: false\n\t\t\t\t\t};\n\t\t\t\t\tob[_i][_ii][_iii][_i] = 0;\n\t\t\t\t\tob[_i][_ii][_iii][_ii] = 0;\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\n\t\treturn ob;\n\t}\n\n\t_parsePosition(str) {\n\t\tlet position = {\n\t\t\t\t'T': 'top',\n\t\t\t\t'L': 'left',\n\t\t\t\t'R': 'right',\n\t\t\t\t'B': 'bottom'\n\t\t\t},\n\t\t\tposStr;\n\t\tif (str && str.length == '2') {\n\t\t\tposStr = `${position[str[0].toUpperCase()]}-${position[str[1].toUpperCase()]}`;\n\t\t} else {\n\t\t\tposStr = str.replace(/\\s/g, '') || 'top-left'; // white spaces removed\n\t\t}\n\n\t\treturn posStr;\n\t}\n\n\t_getButtonConfig(or) {\n\t\tlet position = or.position,\n\t\t\tHORIZONTAL = 'horizontal',\n\t\t\torientation = or.orientation || HORIZONTAL,\n\t\t\tstr = this._parsePosition(position),\n\t\t\tposArr = str.split('-'),\n\t\t\tstatus = this.orientation || (this.orientation = this._generateOrientationObj()),\n\t\t\tcurrentPos = {};\n\n\t\tposArr.forEach((str) => {\n\t\t\tstatus[str] && posArr.forEach((lr) => {\n\t\t\t\tlet _posObj = status[str][lr];\n\t\t\t\tif (_posObj) {\n\t\t\t\t\tfor (let i in _posObj) {\n\t\t\t\t\t\tif (i === orientation) {\n\t\t\t\t\t\t\tcurrentPos[str] = `${_posObj[i][str]}px`;\n\t\t\t\t\t\t\tcurrentPos[lr] = `${_posObj[i][lr]}px`;\n\n\t\t\t\t\t\t\torientation === HORIZONTAL ? (_posObj[i][lr] += 40, this.maxButton[orientation + 'Count'][str]++) :\n\t\t\t\t\t\t\t\t(_posObj[i][str] += 40, this.maxButton[orientation + 'Count'][lr]++);\n\n\t\t\t\t\t\t\t!_posObj[i]['isModified'] && (_posObj[i]['isModified'] = true);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (!_posObj[i]['isModified']) {\n\t\t\t\t\t\t\t\torientation === HORIZONTAL ? (_posObj[i][str] += 40, this.maxButton[orientation + 'Count'][lr]++) :\n\t\t\t\t\t\t\t\t\t(_posObj[i][lr] += 40, this.maxButton[orientation + 'Count'][str]++);\n\n\t\t\t\t\t\t\t\t_posObj[i]['isModified'] = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\treturn currentPos;\n\t}\n\t/**\n\t * checks the total number of buttons added and returns boolean if any more buttons can be added or not\n\t * @param {object} obj - orientation configaration\n\t * @returns {}\n\t */\n\t_canAddButton(obj) {\n\t\tlet orientation = `${obj.orientation}Count`,\n\t\t\tpos = this._parsePosition(obj.position), //obj.position.replace(/\\s/g, ''),\n\t\t\tposArr = pos.split('-'),\n\t\t\tcurrentBtnStatus = this.maxButton || (this.maxButton = this._calculateMaxButton()),\n\t\t\tposition = ((_or, _posArr) => {\n\t\t\t\tlet _pos = null;\n\t\t\t\tif (_or === 'horizontal') {\n\t\t\t\t\t_posArr.forEach(i => {\n\t\t\t\t\t\t(i === 'top' || i === 'bottom') && (_pos = i);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t_posArr.forEach(i => {\n\t\t\t\t\t\t(i === 'left' || i === 'right') && (_pos = i);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn _pos;\n\t\t\t})(obj.orientation, posArr);\n\n\t\treturn currentBtnStatus[orientation][position] < this.maxButton[obj.orientation];\n\t}\n\n\t_calculateMaxButton() {\n\t\tlet oh = this.node.offsetHeight,\n\t\t\tow = this.node.offsetWidth,\n\t\t\tbtnSize = 40;\n\n\t\tthis.maxButton || (this.maxButton = {\n\t\t\thorizontal: Math.floor(ow / btnSize),\n\t\t\tvertical: Math.floor(oh / btnSize),\n\t\t\thorizontalCount: {\n\t\t\t\ttop: 1,\n\t\t\t\tbottom: 1\n\t\t\t},\n\t\t\tverticalCount: {\n\t\t\t\tleft: 1,\n\t\t\t\tright: 1\n\t\t\t}\n\t\t});\n\n\t\treturn this;\n\t}\n\n\t// resizes parent and child components\n\tresizeInnerContainers(isvertical, change, operation) {\n\t\tlet layout = this.splitLayout,\n\t\t\tchildContainers = layout && layout.gridList,\n\t\t\tsliders = layout && layout.slider,\n\t\t\tproperty = isvertical ? 'width' : 'height',\n\t\t\tcount = isvertical ? 'columns' : 'rows',\n\t\t\tconf = layout && layout.gridCount,\n\t\t\tn = (conf && conf[count]) || 1,\n\t\t\tamount = change / n,\n\t\t\telem = this.getNode(),\n\t\t\tdataConf = elem.getBoundingClientRect();\n\n\t\t// first change own dimension (width / height);\n\t\telem.style[property] = (operation ? (dataConf[property] + change) : (dataConf[property] - change)) + 'px';\n\t\tthis.resizeContainer();\n\n\t\tif (!childContainers) {\n\t\t\treturn this;\n\t\t}\n\n\t\tlet op = ((property === 'height') || (property === 'width' )) ? operation : 1;\n\n\t\tfor (let key in childContainers) {\n\t\t\tif (childContainers.hasOwnProperty(key)) {\n\t\t\t\tchildContainers[key].resizeInnerContainers(isvertical, amount, op);\n\t\t\t}\n\t\t}\n\n\t\tif (!sliders) {\n\t\t\treturn this;\n\t\t}\n\t\t\n\t\tfor (let key in sliders) {\n\t\t\tif (sliders.hasOwnProperty(key)) {\n\t\t\t\tthis.changeSliderDimension(sliders[key], isvertical, amount, key, op, conf);\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tchangeSliderDimension(sliderObj, isVertical, amount, key, op, conf) {\n\t\tlet node = sliderObj.slider,\n\t\t\tisVerticalSlider = sliderObj.isVertical,\n\t\t\tnumberOfCells = isVerticalSlider ? conf['rows']: conf['columns'],\n\t\t\tproperty = isVertical ? (isVerticalSlider ? 'left' : 'width') : (isVerticalSlider ? 'height' : 'top'),\n\t\t\tactualAmount,\n\t\t\tcalculatedAmount;\n\n\t\tif(property === 'width') {\n\t\t\tactualAmount =  amount * numberOfCells;\n\t\t} else if (property === 'left') {\n\t\t\tlet ic = Math.abs(conf['columns'] - 2 - Number(key)) + 1;\n\t\t\tactualAmount = amount * ic;\n\t\t} else if (property === 'height') {\n\t\t\tactualAmount =  amount * numberOfCells;\n\t\t} else {\n\t\t\tactualAmount = (Number(key) + 1) * amount;\n\t\t}\n\t\tcalculatedAmount = parseFloat(node.style[property]) + (op ? actualAmount : (actualAmount * -1));\n\t\t\n\t\tproperty === 'left' && sliderObj.currX && (sliderObj.currX = calculatedAmount);\n\t\tproperty === 'top' && sliderObj.currY && (sliderObj.currY = calculatedAmount);\n\t\t\n\t\tnode.style[property] = calculatedAmount + 'px';\n\t}\n}\n\nexport default Grid;\n\n\n/** WEBPACK FOOTER **\n ** ./src/grid.js\n **/","import {_addStyle, _createElement} from './utils.js' ;\nclass CircularButton {\n\t/**\n\t * @constructor\n\t * config object will contain content type of the button\n\t * \n\t **/\n\tconstructor(_parent, config) {\n\t\tthis.parentElement = _parent;\n\t\tthis.config = config;\n\t\tthis.node = null;\n\t}\n\n\t_config () {\n\t\treturn {\n\t\t\t'round-button': {\n\t\t\t\twidth: '30px',\n\t\t\t\theight: '30px',\n\t\t\t\tposition: 'absolute',\n\t\t\t\tmargin: '10px'\n\t\t\t},\n\t\t\t'round-button-circle': {\n\t\t\t\twidth: '100%',\n\t\t\t\theight: 0,\n\t\t\t\tpaddingBottom: '100%',\n\t\t\t\tborderRadius: '50%',\n\t\t\t\toverflow: 'hidden',\n\t\t\t\tbackground: '#4679BD',\n\t\t\t\tboxShadow: '0 0 3px gray',\n\t\t\t\tcursor: 'pointer'\n\t\t\t},\n\t\t\t'a': {\n\t\t\t\tdisplay: 'block',\n\t\t\t\tfloat: 'left',\n\t\t\t\twidth: '100%',\n\t\t\t\tpaddingTop: '50%',\n\t\t\t\tpaddingBottom: '50%',\n\t\t\t\tlineHeight: '1em',\n\t\t\t\tmarginTop: '-0.5em',\n\t\t\t\ttextAlign: 'center',\n\t\t\t\tcolor: '#e2eaf3',\n\t\t\t\tfontFamily: 'Verdana',\n\t\t\t\tfontSize: '1em',\n\t\t\t\tfontWeight: 'bold',\n\t\t\t\ttextDecoration: 'none'\n\t\t\t},\n\t\t\t'img' : {\n\t\t\t\tdisplay: 'block',\n\t\t\t\twidth: '76%',\n\t\t\t\tpadding: '12%',\n\t\t\t\theight: 'auto'\n\t\t\t},\n\t\t\t'div' : {\n\t\t\t\tdisplay: 'block',\n\t\t\t\twidth: '30px',\n\t\t\t\theight: '30px'\n\t\t\t}\n\t\t};\n\t}\n\n\t_createButton (conf) {\n\t\tif(!conf.type) {\n\t\t\tconf.type = 'a';\n\t\t} else if (conf.type === 'svg') {\n\t\t\tconf.type = 'div';\n\t\t}\n\t\tlet outer = _createElement('div'),\n\t\t\tmiddle = _createElement('div'),\n\t\t\tinner = _createElement(conf.type), // depends on the content\n\t\t\tconfig = this._config();\n\t\t\n\t\t_addStyle(outer, config['round-button']);\n\t\t_addStyle(middle, config['round-button-circle']);\n\t\t_addStyle(inner, config[conf.type]); //@todo change it as given type\n\n\t\tswitch (conf.type) {\n\t\t\tcase 'a' : inner.href = conf.href || '#'; inner.innerHTML = conf.innerHTML.toUpperCase() || 'TL'; break;\n\t\t\tcase 'img' : inner.src = conf.src || ''; break;\n\t\t\tcase 'div' : inner.innerHTML = conf.html || ''; break;\n\t\t}\n\n\t\touter.appendChild(middle);\n\t\tmiddle.appendChild(inner);\n\n\t\treturn outer;\n\t}\n\n\t// after redering buttons chart will be rendered for better space management\n\trender () {\n\t\tlet config = this.config,\n\t\t\tposition = config.position || {top: 0, left:0},\n\t\t\tcontentConf = config.content,\n\t\t\tbutton = this.node = this._createButton(contentConf);\n\t\t\n\t\t_addStyle(button, position);\n\n\t\tthis.parentElement.appendChild(button);\n\t\treturn this;\n\t}\n\n\tgetNode () {\n\t\treturn this.node;\n\t}\n}\n\nexport {CircularButton as default};\n\n\n/** WEBPACK FOOTER **\n ** ./src/button.js\n **/","function getRandomColor () {\n\tlet letters = '0123456789ABCDEF',\n\t\tcolor = '#';\n\n\tfor (var i = 0; i < 6; i++) {\n\t\tcolor += letters[Math.floor(Math.random() * 16)];\n\t}\n\treturn color;\n}\n\nfunction _addStyle (elem, _config) {\n\tfor(let i in _config) {\n\t\telem.style[i] = _config[i];\n\t}\n\treturn this;\n}\n\nfunction _createElement (type) {\n\tif (type && typeof type === 'string') {\n\t\treturn document.createElement(type);\n\t}\n\treturn false;\n}\n\n/**\n* Rounds up a number to two decimal points.\n* @param {Number} d - given number to round up\n* @returns {Number} - rounded up number\n*/ \nfunction roundUp (d) {\n   return Math.round(d * 100) / 100;\n}\n\nexport {\n\tgetRandomColor,\n\t_addStyle,\n\t_createElement,\n\troundUp\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils.js\n **/"],"sourceRoot":""}